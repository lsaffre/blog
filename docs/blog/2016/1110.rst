:date: 2016-11-10

===========================
Thursday, November 10, 2016
===========================

Working on :ticket:`1227`.

- Optimization in :meth:`Notification.emit_notification
  <lino.modlib.notify.models.Notification.emit_notification>` when
  working as another user: the authenticated user *gets* notified, and
  the other user gets *not* notified (until now it was the other way
  round).
- :class:`lino_welfare.modlib.pcsw.coaching.Coaching` had no
  :meth:`get_notify_owner`.
- The default body text generated by a :class:`ChangeObservable
  <lino.modlib.notify.mixins.ChangeObservable>` now includes a list of
  the changes. For text fields Lino now uses difflib to print only the
  changed lines.

- Quand on cliquait le bouton "Enregistrer" d'un
  :class:`ChangeObservable
  <lino.modlib.notify.mixins.ChangeObservable>` sans que ce soit
  nécessaire (car aucune modif), alors Lino faisait quand-même une
  notification de modification. Fixed.


- :class:`ChangeWatcher <lino.core.diff.ChangeWatcher>` is now in a
  module of its own.

- There were `nonlocal image URI found` warnings in :ref:`atelier` and
  :ref:`noi`, I told Sphinx to tolerate them by adding the following
  line to :xfile:`conf.py`::

     suppress_warnings = ['image.nonlocal_uri']
  

::

    $ git push
    Counting objects: 6, done.
    Delta compression using up to 8 threads.
    Compressing objects: 100% (6/6), done.
    Writing objects: 100% (6/6), 623 bytes | 0 bytes/s, done.
    Total 6 (delta 5), reused 0 (delta 0)
    remote: Resolving deltas: 100% (5/5), completed with 5 local objects.
    To git+ssh://git@github.com/lino-framework/lino.git
       275c8d7..bd31a73  master -> master
     ! [rejected]        channels -> channels (non-fast-forward)
    error: failed to push some refs to 'git+ssh://git@github.com/lino-framework/lino.git'
    hint: Updates were rejected because a pushed branch tip is behind its remote
    hint: counterpart. Check out this branch and integrate the remote changes
    hint: (e.g. 'git pull ...') before pushing again.
    hint: See the 'Note about fast-forwards' in 'git push --help' for details.
    (py27) luc@doll:~/work/lino$ git checkout channels 

