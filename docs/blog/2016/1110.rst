:date: 2016-11-10

===========================
Thursday, November 10, 2016
===========================

I worked on :ticket:`1227`.

- Optimization in :meth:`Notification.emit_notification
  <lino.modlib.notify.models.Notification.emit_notification>` when
  working as another user: the authenticated user *gets* notified, and
  the other user gets *not* notified (until now it was the other way
  round).
- :class:`lino_welfare.modlib.pcsw.coaching.Coaching` had no
  :meth:`get_notify_owner`.
- The default body text generated by a :class:`ChangeObservable
  <lino.modlib.notify.mixins.ChangeObservable>` now includes a list of
  the changes. For text fields Lino now uses difflib to print only the
  changed lines.

- Quand on cliquait le bouton "Enregistrer" d'un
  :class:`ChangeObservable
  <lino.modlib.notify.mixins.ChangeObservable>` sans que ce soit
  nécessaire (car aucune modif), alors Lino faisait quand-même une
  notification de modification. Fixed.


- :class:`ChangeWatcher <lino.core.diff.ChangeWatcher>` is now in a
  module of its own.

- There were `nonlocal image URI found` warnings in :ref:`atelier` and
  :ref:`noi`, I told Sphinx to tolerate them by adding the following
  line to :xfile:`conf.py`::

     suppress_warnings = ['image.nonlocal_uri']
  

I worked on :ticket:`1249`.
