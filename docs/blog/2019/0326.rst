
:date: 2019-03-26

=======================
Tuesday, March 26, 2019
=======================

I moved :ref:`welfare` out of :ref:`book`.
I created a new repository :ref:`weleup`
and moved :file:`man/welfare_de` to :file:`weleup/dedocs`.

The welfare repo is now a library repo, similar to xl.

The welfare repository contains demo projects, specs and api for both weleup
and welcht (it makes no sense to explain welfare without also explaining weleup
and welcht, and it makes no sense to write technical docs about weleup without
also explaining general welfare plugins).

The doctrees of welcht or weleup just contain a short description, installation
instructions and links to the real docs.

We want the :xfile:`__init__.py` files of welfare plugins refer directly to
their specs page.

The doctree of welcht refers to the doctree of weleup.

As a side effect I noticed that the :cmd:`diag` command did not yet work under
Python 3. Fixed. TODO: add a test case for it.


:ticket:`2917` : MÃ©lanie and Gerd did hard work to identify a bug in
:class:`RefundsByPerson <lino_welfare.modlib.households.RefundsByPerson>`.
This table considered children as adult only one year after the age
specified in :attr:`lino_xl.lib.households.Plugin.adult_age`. I added a test
case to cover this: :ref:`welfare.specs.households.20190326`.