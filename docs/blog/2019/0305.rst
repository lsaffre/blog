:date: 2019-03-05

======================
Tuesday, March 5, 2019
======================

Hamza and I were glad to have the production upgrade done and the release notes
published, but there is more to do: the technical documentation and the test
suite (:ref:`specs`) needs to be updated.



But before doing so, I must do another step of reorganizing these specs. The
specs for welcht were still in the book repository. Now I moved them to the
welcht repository.  As a consequence the ``mathieu`` demo project moved to
:mod:`lino_welcht.demo` (because it is no longer needed in the book, and it is
now needed for testing the specs in welcht).

I am currently still trying to get the following references to work:

- :ref:`welcht` (the central project page)
- :mod:`lino_welcht` (the welcht API)
- :ref:`welcht.specs` (the specs for welcht)
- :ref:`welcht.about` (the about page for welcht)
- :ref:`welcht.changes` (changes for welcht)
- :ref:`welfare.changes` (changes for welfare)

Note that we need to decide for every doctree who is the "maintainer" or
"publisher".  The maintainer of a doctree is the person who runs :cmd:`inv pd`,
which rsyncs his local copy to :file:`/home/xxx/public_html/yyy_zzz` on
:ref:`lf` where xxx is the username, yyy is the project's nickname and zzz is
the name of the doctree within the project.

There are two doctrees in welcht :

- docs (technical docs in English)
- frdocs (the French docs)

Hamza is already the maintainer for frdocs (we configured Apache to serve
/home/hamza/public_html/welcht_frdocs to fr.welfare.lino-framework.org), but I
am (currently)  still the maintainer of the technical welcht docs.  We will
make Hamza the maintainer of these as well as soon as I explained all this to
him.


When *I* (not Hamza) update the welcht frdocs and add a reference target, then
I cannot refer to it from my blog until Hamza has build and published these
docs.  This is because :mod:`atelier.sphinxcontrib.interproject` uses the
:xfile:`objects.inv` files on :ref:`lf`.  I added a new
:envvar:`ATELIER_USE_LOCAL_BUILDS` to tell atelier that it should use my local
copies.  But that doesn't seem to work as expected.  Still investigating...

