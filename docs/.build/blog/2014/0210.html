<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>20140210 (Monday, 10 February 2014) &mdash; Luc&#39;s website</title>
    
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/centeredlogo.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist_tags.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Luc&#39;s website"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Luc&#39;s website" href="../../index.html" />
    <link rel="up" title="2014" href="index.html" />
    <link rel="next" title="20140211 (Tuesday, 11 February 2014)" href="0211.html" />
    <link rel="prev" title="20140208 (Saturday, 08 February 2014)" href="0208.html" />
   
<script src="../../.htmldata/lightbox/js/jquery-1.11.0.min.js"></script>
<script src="../../.htmldata/lightbox/js/lightbox.min.js"></script>
<link href="../../.htmldata/lightbox/css/lightbox.css" rel="stylesheet" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="0211.html" title="20140211 (Tuesday, 11 February 2014)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="0208.html" title="20140208 (Saturday, 08 February 2014)"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">2014</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="monday-10-february-2014">
<h1>20140210 (Monday, 10 February 2014)<a class="headerlink" href="#monday-10-february-2014" title="Permalink to this headline">¶</a></h1>
<p>Endspurt vor Baustellenbesichtigung <a class="reference external" href="http://welfare.lino-framework.org/index.html#welfare" title="(in Lino Welfare Reference Manual v1.1)"><span>Lino Welfare</span></a>:</p>
<ul>
<li><p class="first">Übersetzungen</p>
</li>
<li><p class="first"><cite>pcsw.Client</cite> is now also a subclass of <code class="xref py py-class docutils literal"><span class="pre">Attestable</span></code>.
This raises the question of how to differentiate, for end-users,
between <cite>AttestationsByProject</cite> and <cite>AttestationsByOwner</cite>.</p>
<p>Oder auf gut Deutsch: Wie soll ich den Unterschied zwischen</p>
<ul class="simple">
<li><cite>AttestationsByProject</cite>: Bescheinigungen, die direkt oder indirekt
für diesen Klienten ausgestellt wurden</li>
<li><cite>AttestationsByOwner</cite>: nur die direkten Bescheinigungen, deren
<cite>owner</cite> ein Klient ist. Momentan sind das Lebensläufe und
(eventuell... sh. nächster Punkt) eID-Info.</li>
</ul>
</li>
</ul>
<p>Soll eID-Info eine DirectPrintAction bleiben? Nein, die mache ich
auch zu einer Bescheinigung. Denn dann haben wir eine Historie der
gemachten Ausdrucke dieses Dokuments. Damit haben wir auch gleich
einen ersten Fall einer Aktion &#8220;Bescheinigung erstellen&#8221;, die
mehrere mögliche <cite>AttestationType</cite> hat, also bei der noch ein
Dialogfenster nötig ist.  Um das alles zu regeln und konfigurierbar
zu machen, haben wir die neuen Felder <cite>primary</cite> und <cite>skip_dialog</cite></p>
<p>Moved <cite>eid-content.odt</cite> to
<cite>lino_welfare/config/attestations/Attestation</cite>.</p>
<p>Note about <cite>this</cite> and <cite>self</cite> in templates: we have two templating
machines Jinja and Appy.  Jinja uses the name <code class="docutils literal"><span class="pre">self</span></code> to access some
part of the renderer, and you cannot override this. But for historical
reasons there are .odt templates containing <code class="docutils literal"><span class="pre">self</span></code> for representing
&#8220;the current object&#8221;.</p>
<p>I had to remember what I learned <a class="reference external" href="oops">2013-08-09</a> about LO&#8217;s
conditional fields: LibreOffice doesn&#8217;t actually just insert the
<cite>Then</cite> or <cite>Else</cite> part depending on the condition, but uses artificial
intelligence: if the text contains two periods, then it is expected to
be a database field.  To avoid this magic behaviour, simply include it
within quotes.  Good to know...</p>
<p>Miscellaneous changes:</p>
<ul class="simple">
<li>Lino didn&#8217;t yet support context-sensitive choosers with a
GenericForeignKey field in the context.
And <cite>Attestation.type_choice</cite> needs this.
Started <a class="reference external" href="https://github.com/lsaffre/lino/blob/master/docs/tickets/97">docs/tickets/97</a>.
The current solution
(<a class="reference external" href="http://www.lino-framework.org/api/lino.utils.instantiator.html#lino.utils.instantiator.GenericForeignKeyConverter" title="(in Lino v1.6)"><code class="xref py py-class docutils literal"><span class="pre">lino.utils.instantiator.GenericForeignKeyConverter</span></code></a>)
is rather hackerish but works for me.</li>
<li><a class="reference external" href="http://atelier.lino-framework.org/api/atelier.test.html#atelier.test.TestCase.run_simple_doctests" title="(in atelier v0.0)"><code class="xref py py-meth docutils literal"><span class="pre">atelier.test.TestCase.run_simple_doctests()</span></code></a> didn&#8217;t notice when
an invalid filename was given.</li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">About me</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><p align="center">
<a href="https://github.com/lsaffre" target="_blank">GitHub</a>
<br/><a href="http://www.lino-framework.org" target="_blank">Lino</a>
<br/><a href="http://www.saffre-rumma.net" target="_blank">Rumma & Ko</a>
</p>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="0211.html" title="20140211 (Tuesday, 11 February 2014)"
             >next</a> |</li>
        <li class="right" >
          <a href="0208.html" title="20140208 (Saturday, 08 February 2014)"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >2014</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">

<a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/2.5/88x31.png" /></a>
This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution-ShareAlike 2.5 Generic License</a>.<br />
      Last updated on 2015-03-31.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.
<a href="../../_sources/blog/2014/0210.txt">Show Source</a> 
    <a href="http://luc.lino-framework.org/blog/2014/0210.html">Online Link</a>
    </div>
  </body>
</html>