<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>20140221 (Friday, 21 February 2014) &mdash; Luc&#39;s website</title>
    
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/centeredlogo.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist_tags.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Luc&#39;s website"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Luc&#39;s website" href="../../index.html" />
    <link rel="up" title="2014" href="index.html" />
    <link rel="next" title="20140222 (Saturday, 22 February 2014)" href="0222.html" />
    <link rel="prev" title="20140220 (Thursday, 20 February 2014)" href="0220.html" />
   
<script src="../../.htmldata/lightbox/js/jquery-1.11.0.min.js"></script>
<script src="../../.htmldata/lightbox/js/lightbox.min.js"></script>
<link href="../../.htmldata/lightbox/css/lightbox.css" rel="stylesheet" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="0222.html" title="20140222 (Saturday, 22 February 2014)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="0220.html" title="20140220 (Thursday, 20 February 2014)"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">2014</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="friday-21-february-2014">
<h1>20140221 (Friday, 21 February 2014)<a class="headerlink" href="#friday-21-february-2014" title="Permalink to this headline">¶</a></h1>
<div class="section" id="first-lino-application-developer-workshop">
<h2>First Lino Application Developer Workshop<a class="headerlink" href="#first-lino-application-developer-workshop" title="Permalink to this headline">¶</a></h2>
<p>With Manuel we are creating &#8220;Lino Sunto&#8221;, an application to manage
products and vendors:</p>
<p><a class="reference external" href="https://github.com/ManuelWeidmann/lino-sunto">https://github.com/ManuelWeidmann/lino-sunto</a></p>
<p>Our application is to be run on an intranet where no authentication is
required. Thus <code class="xref std std-setting docutils literal"><span class="pre">user_model</span></code> can remain empty, and
<a class="reference external" href="http://www.lino-framework.org/api/lino.modlib.users.html#module-lino.modlib.users" title="(in Lino v1.6)"><code class="xref py py-mod docutils literal"><span class="pre">lino.modlib.users</span></code></a> is not installed.</p>
<p>After having added a detail_layout to our Products table,
we were no longer allowed to add rows.
The insert window showed up, but all entry fields were disabled
and the SubmitInsert and SubmitInsertAndStay buttons were missing.
That was because we had no users.
I fixed this by removing the
<code class="docutils literal"><span class="pre">required</span> <span class="pre">=</span> <span class="pre">dict(user_level='user')</span></code>
that was defined on
<a class="reference external" href="http://www.lino-framework.org/api/lino.core.actions.html#lino.core.actions.SubmitDetail" title="(in Lino v1.6)"><code class="xref py py-class docutils literal"><span class="pre">lino.core.actions.SubmitDetail</span></code></a>
and subclasses.</p>
<p>While discovering the above, I tried to activate authentication
by <code class="xref std std-setting docutils literal"><span class="pre">user_model</span></code> to <code class="docutils literal"><span class="pre">&quot;users.User&quot;</span></code>
and adding <a class="reference external" href="http://www.lino-framework.org/api/lino.modlib.users.html#module-lino.modlib.users" title="(in Lino v1.6)"><code class="xref py py-mod docutils literal"><span class="pre">lino.modlib.users</span></code></a> to my <code class="xref std std-setting docutils literal"><span class="pre">get_installed_apps</span></code>,
just for testing whether it works then.
This revealed another series of subtle problems:</p>
<p>The fixtures
<cite>demo</cite> and <cite>demo2</cite>
who create Robin Rood, Rolf Rompen their friends
have been until now in
<a class="reference external" href="http://www.lino-framework.org/api/lino.modlib.system.html#module-lino.modlib.system" title="(in Lino v1.6)"><code class="xref py py-mod docutils literal"><span class="pre">lino.modlib.system</span></code></a>
for some subtle historical reason.
Now they are in <a class="reference external" href="http://www.lino-framework.org/api/lino.modlib.users.html#module-lino.modlib.users" title="(in Lino v1.6)"><code class="xref py py-mod docutils literal"><span class="pre">lino.modlib.users</span></code></a>.</p>
<p>These fixtures din&#8217;t work when <code class="xref std std-setting docutils literal"><span class="pre">languages</span></code> was not set
(because
<code class="xref py py-meth docutils literal"><span class="pre">apply_languages</span></code>
did not call
<code class="xref py py-meth docutils literal"><span class="pre">setup_languages</span></code>
in that case.)</p>
<p>Lino also required <a class="reference external" href="http://www.lino-framework.org/api/lino.modlib.system.html#module-lino.modlib.system" title="(in Lino v1.6)"><code class="xref py py-mod docutils literal"><span class="pre">lino.modlib.system</span></code></a> to be installed when
<code class="xref std std-setting docutils literal"><span class="pre">user_model</span></code> was non-empty.  No longer.</p>
<p>Moved two doctest cases from the Lino blog to
<a class="reference external" href="http://welfare.lino-framework.org/tested/general.html#welfare-tested-general" title="(in Lino Welfare Reference Manual v1.1)"><span>Lino Welfare General (tested tour)</span></a> because they caused the Lino test suite
to fail on a system without <a class="reference external" href="http://welfare.lino-framework.org/index.html#welfare" title="(in Lino Welfare Reference Manual v1.1)"><span>Lino Welfare</span></a> installed.</p>
<p>Restored some failing test cases in the <cite>north</cite> test suite.</p>
</div>
<div class="section" id="lino-in-chatelet">
<h2>Lino in Châtelet<a class="headerlink" href="#lino-in-chatelet" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="http://www.lino-framework.org/api/lino.core.kernel.html#module-lino.core.kernel" title="(in Lino v1.6)"><code class="xref py py-mod docutils literal"><span class="pre">lino.core.kernel</span></code></a> now logs more debug messages.</li>
<li>The French demo fixtures required a few bits of fiddling.</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">About me</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><p align="center">
<a href="https://github.com/lsaffre" target="_blank">GitHub</a>
<br/><a href="http://www.lino-framework.org" target="_blank">Lino</a>
<br/><a href="http://www.saffre-rumma.net" target="_blank">Rumma & Ko</a>
</p>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="0222.html" title="20140222 (Saturday, 22 February 2014)"
             >next</a> |</li>
        <li class="right" >
          <a href="0220.html" title="20140220 (Thursday, 20 February 2014)"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >2014</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">

<a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/2.5/88x31.png" /></a>
This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution-ShareAlike 2.5 Generic License</a>.<br />
      Last updated on 2015-03-31.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.
<a href="../../_sources/blog/2014/0221.txt">Show Source</a> 
    <a href="http://luc.lino-framework.org/blog/2014/0221.html">Online Link</a>
    </div>
  </body>
</html>