<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Monday, June 2, 2014 &mdash; Luc&#39;s website</title>
    
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/centeredlogo.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist_tags.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Luc&#39;s website"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Luc&#39;s website" href="../../index.html" />
    <link rel="up" title="2014" href="index.html" />
    <link rel="next" title="Tuesday, June 3, 2014" href="0603.html" />
    <link rel="prev" title="Friday, May 30, 2014" href="0530.html" />
   
<script src="../../.htmldata/lightbox/js/jquery-1.11.0.min.js"></script>
<script src="../../.htmldata/lightbox/js/lightbox.min.js"></script>
<link href="../../.htmldata/lightbox/css/lightbox.css" rel="stylesheet" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="0603.html" title="Tuesday, June 3, 2014"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="0530.html" title="Friday, May 30, 2014"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">2014</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="monday-june-2-2014">
<h1>Monday, June 2, 2014<a class="headerlink" href="#monday-june-2-2014" title="Permalink to this headline">¶</a></h1>
<div class="section" id="operationalerror-2006-mysql-server-has-gone-away">
<h2>OperationalError: (2006, &#8216;MySQL server has gone away&#8217;)<a class="headerlink" href="#operationalerror-2006-mysql-server-has-gone-away" title="Permalink to this headline">¶</a></h2>
<p>I had the above error message caused by <code class="xref std std-manage docutils literal"><span class="pre">watch_tim</span></code> since the
upgrade in Eupen. This had to do with the fact that I upgraded Django
from 1.5 to 1.6 at the same time. It was a side effect of an
optimization in Django 1.6 which Aymeric Augustin explains very well
in <a class="reference external" href="https://code.djangoproject.com/ticket/21597">Ticket 21597</a>. And
his recommended solution (&#8220;close the connection with <code class="docutils literal"><span class="pre">from</span> <span class="pre">django.db</span>
<span class="pre">import</span> <span class="pre">connection;</span> <span class="pre">connection.close()</span></code> when you know that your
program is going to be idle for a long time&#8221;) was exactly the solution
for our case.</p>
<p>While looking for an explanation to this problem, I had some more
fiddling with <code class="xref py py-class docutils literal"><span class="pre">lino.utils.ajax.AjaxExceptionResponse</span></code>.  There
was the following message in system log:</p>
<div class="highlight-python"><div class="highlight"><pre>201406-02 09:18:28 WARNING ajax : AjaxExceptionResponse:
AttributeError
&#39;NoneType&#39; object has no attribute &#39;parse_params&#39;
</pre></div>
</div>
<p>This was of course not enough.  On a production server with
<a class="reference external" href="http://www.lino-framework.org/ref/settings.html#setting-DEBUG" title="(in Lino v1.6)"><code class="xref std std-setting docutils literal"><span class="pre">DEBUG</span></code></a> False, we don&#8217;t send the traceback to the client, but
we must at least send them to the logger then.  The above problem did
not yet reoccur until now, and as long as nobody complains, I&#8217;ll just
let this wait.</p>
</div>
<div class="section" id="added-spanish-language">
<h2>Added Spanish language<a class="headerlink" href="#added-spanish-language" title="Permalink to this headline">¶</a></h2>
<p>I addded Spanish to the list of maintained languages for
Lino and <a class="reference external" href="http://cosi.lino-framework.org/index.html#cosi" title="(in Lino Cosi Reference Manual v0.0)"><span>Lino Così</span></a>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">About me</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><p align="center">
<a href="https://github.com/lsaffre" target="_blank">GitHub</a>
<br/><a href="http://www.lino-framework.org" target="_blank">Lino</a>
<br/><a href="http://www.saffre-rumma.net" target="_blank">Rumma & Ko</a>
</p>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="0603.html" title="Tuesday, June 3, 2014"
             >next</a> |</li>
        <li class="right" >
          <a href="0530.html" title="Friday, May 30, 2014"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >2014</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2001-2015 Luc Saffre.
      Last updated on 2015-03-31.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.
    <a href="https://raw.github.com/lsaffre/blog/master/docs/blog/2014/0602.rst"
           rel="nofollow">Show Source</a>.
    <a href="http://luc.lino-framework.org/blog/2014/0602.html">Online Link</a>
    </div>
  </body>
</html>