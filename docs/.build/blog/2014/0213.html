<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>20140213 (Thursday, 13 February 2014) &mdash; Luc&#39;s website</title>
    
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/centeredlogo.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist_tags.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Luc&#39;s website"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Luc&#39;s website" href="../../index.html" />
    <link rel="up" title="2014" href="index.html" />
    <link rel="next" title="20140214 (Friday, 14 February 2014)" href="0214.html" />
    <link rel="prev" title="20140212 (Wednesday, 12 February 2014)" href="0212.html" />
   
<script src="../../.htmldata/lightbox/js/jquery-1.11.0.min.js"></script>
<script src="../../.htmldata/lightbox/js/lightbox.min.js"></script>
<link href="../../.htmldata/lightbox/css/lightbox.css" rel="stylesheet" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="0214.html" title="20140214 (Friday, 14 February 2014)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="0212.html" title="20140212 (Wednesday, 12 February 2014)"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">2014</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="thursday-13-february-2014">
<h1>20140213 (Thursday, 13 February 2014)<a class="headerlink" href="#thursday-13-february-2014" title="Permalink to this headline">¶</a></h1>
<div class="section" id="still-problems-with-java-applets">
<h2>Still problems with Java applets<a class="headerlink" href="#still-problems-with-java-applets" title="Permalink to this headline">¶</a></h2>
<p>Gerd cannot run <a class="reference external" href="http://test-eidreader.lino-framework.org/">test-eidreader</a> after their upgrade to
7u51, he gets:</p>
<div class="highlight-python"><div class="highlight"><pre>uncaught exception: Liveconnect call for Applet ID 1 is not allowed in this JVM instance
</pre></div>
</div>
<p>Google then leads me to a page <a class="reference external" href="https://blogs.oracle.com/java-platform-group/entry/liveconnect_changes_in_7u45">LiveConnect changes in 7u45</a>,
of which I understand only fragments, and which has comments like:</p>
<ul class="simple">
<li>&#8220;Adding <code class="docutils literal"><span class="pre">Caller-Allowable-Codebase:</span> <span class="pre">*</span></code> to the JAR&#8217;s manifest file
isn&#8217;t making the error go away. Any ideas?&#8221;</li>
<li>&#8220;Please keep &#8216;improving&#8217; the applet experience Oracle, each time you
&#8216;improve&#8217; things it makes it easier for me to justify removing applets
from our solution. This &#8216;fix&#8217; seems incredibly poorly thought out,
badly/untested and yet another nail in the applet/webstart coffin.&#8221;</li>
<li>&#8220;Oracle is really making it difficult for end users to run Java
applets. The last couple of years have been a slow but steady death
for applets.&#8221;</li>
</ul>
<p>All this sounds very frightening. Yes of course users are frustrated
when everything is changing and unstable. And yes of course we don&#8217;t
know Oracle&#8217;s motivations for these changes.  But there is still hope
that Oracle are just struggling, that they will manage to get it
stable one day. Java applets continue to be the best implementation of
a platform-independent environment for web applications. So stop
moaning and continue to swim.</p>
<p>So I invited Gerd to run a next test: let&#8217;s try with a
<a class="reference external" href="http://docs.oracle.com/javase/7/docs/technotes/guides/jweb/security/manifest.html#app_library">Caller-Allowable-Codebase</a>
attribute in my <cite>Manifest.txt</cite> file:</p>
<div class="highlight-python"><div class="highlight"><pre>Caller-Allowable-Codebase: *
</pre></div>
</div>
<p>(The docs say that &#8220;This attribute is not needed if the JAR file for
the RIA is in the same location as the JNLP file or HTML page that
starts the RIA&#8221;, but the comments and our previous experiences
indicate that statements of this kind aren&#8217;t reliable).</p>
<p>To protect us from problems due to unrecognized caching, I changed the
initialization message to:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">System</span><span class="o">.</span><span class="n">err</span><span class="o">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;EIDReader version 20140213 initialized&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>I asked Gerd to test this. And then I went to sleep without much hope.
I did not test this myself because each test costs me a few minutes (I
must log into a virtual client machine, locking my own machine during
this time) and when it fails I cannot even see the Java console.</p>
<p>And a few hours later, while I slept, came the unexpected good news:
the above <strong>was</strong> the reason!  I worte to Gerd:</p>
<blockquote>
<div><p>Insgesamt würde ich die Situation wie folgt zusammenfassen:</p>
<p>Zum Einlesen der eID-Karten und zum Bereitstellen von editierbaren
Dokumenten (zur Zeit nur Lebensläufe, später auch andere
Bescheinigungen) braucht Lino eine Technologie namens Java.</p>
<p>Java, eine ursprünglich freie Software, wird seit Jahren durch
Oracle (zuvor Sun) benutzt, um ein Monopol aufzubauen. Das macht
sich bemerkbar in unzähligen Problemen wegen ständiger Änderungen
im Sicherheitsmechanismus. Bei jedem &#8220;Upgrade&#8221; hat man neue
Überraschungen.  Unter Experten ist das allgemein bekannt und wird
viel bejammert und angeprangert.</p>
<p>Aber rein theoretisch ist Java der richtige Weg, um die
o.g. Funktionalitäten zu implementieren. Ob das in der Praxis auch
so bleiben wird, kann heute niemand sagen. Auf Oracles Pläne und
weltweite Entwicklungen ist unser Einfluss eher gering. Wir halten
die Augen offen nach Alternativen, aber uns ist momentan kein
vertretbarer Kandidat bekannt.</p>
<p>Deshalb: insgesamt bejahen wir unsere Entscheidung, weiterhin mit
Java zu arbeiten. Wir hoffen, dass die problematische Phase in
Oracles Implementierung bald vorbei ist und lernen immer besser,
wie man solche Probleme möglichst schnell in den Griff kriegt.</p>
</div></blockquote>
<p>I verified that we can exclude side effects due to &#8220;changed
circumstances&#8221; (a usual phenomen when you work with Java) by (1)
reproducing myself that it works, (2) removing the line, updating the
site and verifying that it <em>fails</em> and (3) restoring the line again
and verifying that it works again.</p>
</div>
<div class="section" id="attestations">
<h2>Attestations<a class="headerlink" href="#attestations" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/lsaffre/lino/blob/master/docs/tickets/93">docs/tickets/93</a></p>
<p>When creating an <code class="xref py py-class docutils literal"><span class="pre">Attestation</span></code> by double clicking in
<code class="xref py py-class docutils literal"><span class="pre">AttestationsByProject</span></code>, then the <cite>project</cite> field gets filled
automatically, but we also want to set the <cite>owner</cite> field to
the project.</p>
<p><cite>lino_welfare.migrate</cite> now writes a file <cite>migrate_from_1_1_10.py</cite>,
intended to get executed after the real migration. This script renames
the <cite>.rtf</cite> files generated per <cite>notes.Note</cite> of type &#8220;Lebenslauf&#8221; so
that Lino finds them back now that they are an
<cite>attestations.Attestation</cite>.</p>
</div>
<div class="section" id="blogging">
<h2>Blogging<a class="headerlink" href="#blogging" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/lsaffre/lino/blob/master/docs/tickets/88">docs/tickets/88</a></p>
<p>I stumbled over an article for which I&#8217;d like to write a blog entry,
mostly in order to find it back when I need it in 3 years or so.
I tried to do this on my shiny new FSFE WordPress blog.
<a class="reference external" href="http://blogs.fsfe.org/luc.saffre/2014/02/10">Here it is</a>.
But I perceived it as a pain to do this.
Switching between Emacs and the WordPress web interface is a pain.
I want to blog in restructuredText because that&#8217;s how I am used
to write down my thoughts.
Oho, Luis Artola had similar problems,
and he wrote a tool called <a class="reference external" href="http://restblog.sourceforge.net/">restblog</a>
Will this be for me?</p>
<p>My first spontaneous reaction: Cool! But I want one single file per
day with possibly several posts (possibly published to different blog
servers).</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">About me</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><p align="center">
<a href="https://github.com/lsaffre" target="_blank">GitHub</a>
<br/><a href="http://www.lino-framework.org" target="_blank">Lino</a>
<br/><a href="http://www.saffre-rumma.net" target="_blank">Rumma & Ko</a>
</p>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="0214.html" title="20140214 (Friday, 14 February 2014)"
             >next</a> |</li>
        <li class="right" >
          <a href="0212.html" title="20140212 (Wednesday, 12 February 2014)"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >2014</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2001-2015 Luc Saffre.
      Last updated on 2015-03-31.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.
    <a href="https://raw.github.com/lsaffre/blog/master/docs/blog/2014/0213.rst"
           rel="nofollow">Show Source</a>.
    <a href="http://luc.lino-framework.org/blog/2014/0213.html">Online Link</a>
    </div>
  </body>
</html>