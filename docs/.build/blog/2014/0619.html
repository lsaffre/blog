<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Thursday, June 19, 2014 &mdash; Luc&#39;s website</title>
    
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/centeredlogo.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist_tags.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Luc&#39;s website"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Luc&#39;s website" href="../../index.html" />
    <link rel="up" title="2014" href="index.html" />
    <link rel="next" title="Friday, June 20, 2014" href="0620.html" />
    <link rel="prev" title="Wednesday, June 18, 2014" href="0618.html" />
   
<script src="../../.htmldata/lightbox/js/jquery-1.11.0.min.js"></script>
<script src="../../.htmldata/lightbox/js/lightbox.min.js"></script>
<link href="../../.htmldata/lightbox/css/lightbox.css" rel="stylesheet" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="0620.html" title="Friday, June 20, 2014"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="0618.html" title="Wednesday, June 18, 2014"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">2014</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="thursday-june-19-2014">
<h1>Thursday, June 19, 2014<a class="headerlink" href="#thursday-june-19-2014" title="Permalink to this headline">¶</a></h1>
<div class="section" id="new-site-attribute-confdirs">
<h2>New Site attribute <cite>confdirs</cite><a class="headerlink" href="#new-site-attribute-confdirs" title="Permalink to this headline">¶</a></h2>
<p>I noticed a bug which had been living for some time: the internal list
of <a class="reference external" href="http://www.lino-framework.org/ref/files.html#xfile-config" title="(in Lino v1.6)"><code class="xref std std-xfile docutils literal"><span class="pre">config</span></code></a> directories had duplicate entries.</p>
<p>I changed the <a class="reference external" href="http://www.lino-framework.org/api/lino.utils.config.html#module-lino.utils.config" title="(in Lino v1.6)"><code class="xref py py-mod docutils literal"><span class="pre">lino.utils.config</span></code></a> module to not use global
variables because I thought that this might be the reason.  It wasn&#8217;t
the reason, but has the advantage of removing one pitfall: until now
it was not allowed to import this module at the global level of a
models module because importing it will fill the config dirs,
i.e. will try to import every installed <cite>models</cite> module.  That&#8217;s why
we have the new Site attribute
<a class="reference external" href="http://www.lino-framework.org/api/lino.core.site.html#lino.core.site.Site.confdirs" title="(in Lino v1.6)"><code class="xref py py-attr docutils literal"><span class="pre">lino.core.site.Site.confdirs</span></code></a></p>
<p>The true reason was a bug in
<a class="reference external" href="http://www.lino-framework.org/api/lino.core.site.html#lino.core.site.Site.for_each_app" title="(in Lino v1.6)"><code class="xref py py-meth docutils literal"><span class="pre">lino.core.site.Site.for_each_app()</span></code></a>.</p>
</div>
<div class="section" id="editing-print-templates">
<h2>Editing print templates<a class="headerlink" href="#editing-print-templates" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://www.lino-framework.org/api/lino.mixins.printable.html#lino.mixins.printable.EditTemplate" title="(in Lino v1.6)"><code class="xref py py-class docutils literal"><span class="pre">lino.mixins.printable.EditTemplate</span></code></a> did not yet manage the
problem of library templates. The local system manager had to dedide
for every library template whether it should be editable locally by
copying the file manually to the local config directory.  This is now
done in a user-friendly way through the web interface.</p>
<p>When using <a class="reference external" href="http://www.lino-framework.org/api/lino.modlib.excerpts.html#module-lino.modlib.excerpts" title="(in Lino v1.6)"><code class="xref py py-mod docutils literal"><span class="pre">lino.modlib.excerpts</span></code></a>, the <cite>body_template</cite> is often more
important than the main template. This template is now also editable
through the web interface: New virtual field <cite>body_template_content</cite>
on any excerpt.</p>
</div>
<div class="section" id="working-on-system-notes">
<h2>Working on system notes<a class="headerlink" href="#working-on-system-notes" title="Permalink to this headline">¶</a></h2>
<p>The <code class="xref py py-meth docutils literal"><span class="pre">dd.Model.get_system_note_recipients()</span></code> actions for
<code class="xref py py-class docutils literal"><span class="pre">welfare.pcsw.Client</span></code> and <a class="reference external" href="http://welfare.lino-framework.org/ref/pcsw.html#welfare.pcsw.Coaching" title="(in Lino Welfare Reference Manual v1.1)"><code class="xref py py-class docutils literal"><span class="pre">welfare.pcsw.Coaching</span></code></a> gave
invalid recipient addresses for coaches with empty email
address. These are now silently ignored.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">About me</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><p align="center">
<a href="https://github.com/lsaffre" target="_blank">GitHub</a>
<br/><a href="http://www.lino-framework.org" target="_blank">Lino</a>
<br/><a href="http://www.saffre-rumma.net" target="_blank">Rumma & Ko</a>
</p>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="0620.html" title="Friday, June 20, 2014"
             >next</a> |</li>
        <li class="right" >
          <a href="0618.html" title="Wednesday, June 18, 2014"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >2014</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">

<a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/2.5/88x31.png" /></a>
This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution-ShareAlike 2.5 Generic License</a>.<br />
      Last updated on 2015-03-31.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.
<a href="../../_sources/blog/2014/0619.txt">Show Source</a> 
    <a href="http://luc.lino-framework.org/blog/2014/0619.html">Online Link</a>
    </div>
  </body>
</html>