<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>20140729 (Tuesday, 29 July 2014) &mdash; Luc&#39;s website</title>
    
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/centeredlogo.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist_tags.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Luc&#39;s website"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Luc&#39;s website" href="../../index.html" />
    <link rel="up" title="2014" href="index.html" />
    <link rel="next" title="Wednesday, July 30, 2014" href="0730.html" />
    <link rel="prev" title="Monday, July 28, 2014" href="0728.html" />
   
<script src="../../.htmldata/lightbox/js/jquery-1.11.0.min.js"></script>
<script src="../../.htmldata/lightbox/js/lightbox.min.js"></script>
<link href="../../.htmldata/lightbox/css/lightbox.css" rel="stylesheet" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="0730.html" title="Wednesday, July 30, 2014"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="0728.html" title="Monday, July 28, 2014"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">2014</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tuesday-29-july-2014">
<h1>20140729 (Tuesday, 29 July 2014)<a class="headerlink" href="#tuesday-29-july-2014" title="Permalink to this headline">¶</a></h1>
<div class="section" id="a-nasty-javascript-bug">
<h2>A nasty Javascript bug<a class="headerlink" href="#a-nasty-javascript-bug" title="Permalink to this headline">¶</a></h2>
<p>I discovered and am investigating a bug in <a class="reference external" href="http://www.lino-framework.org/ref/javascript.html#xfile-linoweb.js" title="(in Lino v1.6)"><code class="xref std std-xfile docutils literal"><span class="pre">linoweb.js</span></code></a>.
<a class="reference external" href="https://github.com/lsaffre/lino/blob/master/docs/tickets/119">docs/tickets/119</a>.
It happens when adding a new record to a grid using cell editing (which
currently requires the user to press <code class="kbd docutils literal"><span class="pre">F2</span></code>). The bug is not very
urgent since the current production sites don&#8217;t really use this entry
method. Most people even don&#8217;t know it. But it is necessary in an
accounting application. It is a show stopper for <a class="reference external" href="http://cosi.lino-framework.org/index.html#cosi" title="(in Lino Cosi Reference Manual v0.0)"><span>Lino Così</span></a>.  I want
to fix this bug. But it is a nasty one.</p>
<p>As usual when I must do some job which I don&#8217;t love, I find
distractions.  For example Ly watched one of my private blog pages and
complained that you cannot start to page through all photos after
having clicked on a first one.  I concluded that she is right:
<code class="xref py py-mod docutils literal"><span class="pre">atelier/sphinxconf/sigal_image</span></code> now uses <a class="reference external" href="http://lokeshdhakar.com/projects/lightbox2/">lightbox</a>.</p>
<p>Hackerzacker, ich bin jetzt schon den dritten Tag mit diesem doofen
Bug im JS dran!  Da scheint etwas mit der inheritence (<cite>Ext.extend</cite>)
nicht zu klappen.</p>
<p>Da stellt sich natürlich die Frage, ob ich nicht besser langsam mal
auf die neueste ExtJS-Version umsteige.  Erfreulich: ExtJS Version 5
ist raus!  Weniger erfreulich: nirgends auf der Webseite finde ich
einen Link für den Download der GPL-Version. Auch ein öffentliches
Repository haben die ja nie gehabt.  Okay, <a class="reference external" href="http://www.sencha.com/forum/showthread.php?260398-Ext-JS-3.4.1.1-Available-Full-Public-Release!">hier</a>
gibt es immerhin noch die Version 3.4.1.1. Mit der scheint Lino
übrigens auch nicht zu funktionieren. Er meldet dann &#8220;TypeError:
this.indexOf is not a function&#8221; in der JS-Konsole.</p>
<p>Das Upgrade zur Version 5 wird irgendwann kommen.  Aber das wird ein
Stück Drecksarbeit, auf die ich wenig Lust habe und für die es keinen
zwingenden Grund gibt.  Lino braucht eben Version 3.3.1. Insgesamt
kein Problem wenn man es weiß.</p>
<p>Until now I believed that Sencha are <em>glad</em> about Lino selecting ExtJS
as primary user interface (or at least that they <em>would</em> be glad if
they would <em>know</em> it).  But I start to wonder whether that&#8217;s true.
They don&#8217;t give the impression that they care for the <em>free</em> users&#8217;
community of their products.  And I am not the first to feel like this
(probably rather the last...): a Premium user <em>dnorman</em> wrote in 2012
in a thread about (<a class="reference external" href="http://www.sencha.com/forum/showthread.php?200033-Public-ExtJS-github-repository!">Public ExtJS github repository!</a>):</p>
<blockquote>
<div><p>Having harped on this issue with various persons at various times,
it is becoming increasingly clear, despite some overtures to the
contrary, that Sencha is not interested in this kind of community
interaction.</p>
<p>This is a shame, because Sencha is by their very nature a
tool-maker, and is pretty good at it too... but they absolutely
cannot be in the trenches on a day-to-day-basis as a
tool-user. This is evidenced by my rather large library of patches
required to make ExtJS work for my application at
all. (complexities for which dataIndex is unsatisfactory, the
ability to render more than one instance of an MVC view/controller
pair, etc, etc, etc) My company would be happy to surrender the
copyrights for these patches, but there&#8217;s no mechanism to
contribute them upstream. Yes, there&#8217;s the &#8220;feature request&#8221;
process, but that&#8217;s not a good fit for the &#8220;this bit needs some
re-architecting&#8221; scenario.</p>
<p>From my perspective, Sencha is rightly concerned with
thought-leadership. This is a good thing in many ways. <em>But</em>
without a significantly improved mechanism for user contribution
and feedback, Sencha dwells in the echo-chamber, and runs the risk
of having companies like mine abandon the platform.</p>
</div></blockquote>
<p>In 2010 there is a blog entry announcing that <a class="reference external" href="http://www.sencha.com/blog/ext-js-is-migrating-to-git/">Ext JS is Migrating to
Git</a>, and
their <a class="reference external" href="https://github.com/extjs">GitHub account</a> still exists, butI could not find anything helpful there.</p>
</div>
<div class="section" id="upgraded-from-bootstrap-2-to-3">
<h2>Upgraded from Bootstrap 2 to 3<a class="headerlink" href="#upgraded-from-bootstrap-2-to-3" title="Permalink to this headline">¶</a></h2>
<p>The above considerations caused some motivation to reactivate my
search for alternatives for the ExtJS user interface.  After looking
at <cite>Angular.js</cite> &amp; friends I fell back to our good old Bootstrap.</p>
<p>Until now Bootstrap (v2) was integrated into Lino as
<code class="xref py py-mod docutils literal"><span class="pre">lino.modlib.plain</span></code>.  This app is now deprecated and replaced by
<a class="reference external" href="http://www.lino-framework.org/api/lino.modlib.bootstrap3.html#module-lino.modlib.bootstrap3" title="(in Lino v1.6)"><code class="xref py py-mod docutils literal"><span class="pre">lino.modlib.bootstrap3</span></code></a>.  Applications should not need to do
anything because this was one of the &#8220;automatic&#8221; apps.</p>
<p>One good side effect is that the usage of the name &#8220;plain&#8221; to
designate &#8220;an HTML interface using Bootstrap&#8221; is now history.</p>
<p>Existing functionality is converted to Bootstrap 3.  But besides the
look and feel there is no further visible change yet. There is still
much to do before <a class="reference external" href="http://www.lino-framework.org/api/lino.modlib.bootstrap3.html#module-lino.modlib.bootstrap3" title="(in Lino v1.6)"><code class="xref py py-mod docutils literal"><span class="pre">lino.modlib.bootstrap3</span></code></a> becomes a usable
alternative to <a class="reference external" href="http://www.lino-framework.org/api/lino.modlib.extjs.html#module-lino.modlib.extjs" title="(in Lino v1.6)"><code class="xref py py-mod docutils literal"><span class="pre">lino.modlib.extjs</span></code></a>.</p>
<p>Checkin.</p>
<p>There is one degradation: in Bootstrap 2 it was possible to render
three menu levels (e.g. <span class="menuselection">Konfigurierung ‣ Kontakte
‣ Organisationsarten</span>) using dropdowns with sub-dropdowns. This is
no longer supported in Bootstrap 3 (see <a class="reference external" href="http://stackoverflow.com/questions/18023493/bootstrap-3-dropdown-sub-menu-missing">Bootstrap 3 dropdown sub menu
missing</a>).</p>
<p>Yes, listening to Mark Otto&#8217;s statement is probably more future-proof
than trying to work around it.  And in fact this would return us to
how TIM did it: use several 2-dimensional menus instead of one
3-dimensional menu. TIM differentiates &#8220;main menu&#8221;, the &#8220;reports
menu&#8221;, the &#8220;configuration menu&#8221; and the &#8220;explorer menu&#8221;.</p>
<p>One question is: should Lino analyze the menu tree and do this
differentiation automatically (transparently, depending on the user
interface)?</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">About me</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><p align="center">
<a href="https://github.com/lsaffre" target="_blank">GitHub</a>
<br/><a href="http://www.lino-framework.org" target="_blank">Lino</a>
<br/><a href="http://www.saffre-rumma.net" target="_blank">Rumma & Ko</a>
</p>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="0730.html" title="Wednesday, July 30, 2014"
             >next</a> |</li>
        <li class="right" >
          <a href="0728.html" title="Monday, July 28, 2014"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >2014</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2001-2015 Luc Saffre.
      Last updated on 2015-03-31.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.
    <a href="https://raw.github.com/lsaffre/blog/master/docs/blog/2014/0729.rst"
           rel="nofollow">Show Source</a>.
    <a href="http://luc.lino-framework.org/blog/2014/0729.html">Online Link</a>
    </div>
  </body>
</html>