<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>20140203 (Monday, 03 February 2014) &mdash; Luc&#39;s website</title>
    
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/centeredlogo.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist_tags.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Luc&#39;s website"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Luc&#39;s website" href="../../index.html" />
    <link rel="up" title="2014" href="index.html" />
    <link rel="next" title="20140204 (Tuesday, 04 February 2014)" href="0204.html" />
    <link rel="prev" title="20140131 (Friday, 31 January 2014)" href="0131.html" />
   
<script src="../../.htmldata/lightbox/js/jquery-1.11.0.min.js"></script>
<script src="../../.htmldata/lightbox/js/lightbox.min.js"></script>
<link href="../../.htmldata/lightbox/css/lightbox.css" rel="stylesheet" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="0204.html" title="20140204 (Tuesday, 04 February 2014)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="0131.html" title="20140131 (Friday, 31 January 2014)"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">2014</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="monday-03-february-2014">
<h1>20140203 (Monday, 03 February 2014)<a class="headerlink" href="#monday-03-february-2014" title="Permalink to this headline">¶</a></h1>
<div class="section" id="lino-and-bicycle-races-in-east-belgium">
<h2>Lino and bicycle races in East-Belgium<a class="headerlink" href="#lino-and-bicycle-races-in-east-belgium" title="Permalink to this headline">¶</a></h2>
<p>During the week-end I updated the events calendar at
<a class="reference external" href="http://www.vor-cycling.be">http://www.vor-cycling.be</a> and was positively surprised how painless
this worked.  This calendar of bicycle races in East-Belgium is part
of Lino rather by accident because one of the responsibles is a
friend, and because it is so fun to see how Lino can be used for
managing &#8220;generated web content&#8221;:
<code class="xref py py-mod docutils literal"><span class="pre">lino.modlib.events.fixtures.vor</span></code>.</p>
<p>Technically this is just a fixture, and &#8211;I got aware of this only
now&#8211; in order to fully document how it works I&#8217;d need to also include
the project&#8217;s <code class="xref std std-xfile docutils literal"><span class="pre">userdocs</span></code> directory.  As a workaround here&#8217;s the
source code of <cite>http://www.vor-cycling.be/events.html</cite>, in fact the
only special page of that site:</p>
<div class="highlight-python"><div class="highlight"><pre>===========================
Veranstaltungskalender 2014
===========================

.. django2rst::

  from atelier.rstgen import header
  for obj in events.Type.objects.order_by(&#39;id&#39;):
      print(header(2,unicode(obj)))
      print()
      print(obj.EventsByType().to_rst())
</pre></div>
</div>
</div>
<div class="section" id="updated-welfare-userdocs">
<h2>Updated <a class="reference external" href="http://welfare.lino-framework.org/index.html#welfare" title="(in Lino Welfare Reference Manual v1.1)"><span>Lino Welfare</span></a> userdocs<a class="headerlink" href="#updated-welfare-userdocs" title="Permalink to this headline">¶</a></h2>
<p>I also worked on the userdocs of <a class="reference external" href="http://welfare.lino-framework.org/index.html#welfare" title="(in Lino Welfare Reference Manual v1.1)"><span>Lino Welfare</span></a> after discovering that
they had a css stylesheet missing.</p>
</div>
<div class="section" id="die-adressen-der-klienten">
<h2>Die Adressen der Klienten<a class="headerlink" href="#die-adressen-der-klienten" title="Permalink to this headline">¶</a></h2>
<p>Manche ÖSHZ-Kunden sind nicht besonders sesshaft, sie ziehen häufig
um, manchmal gewollt und manchmal nicht, manchmal offiziell und
manchmal nicht. Manche haben gar keine richtige Adresse, sondern einen
&#8220;Referenzadresse&#8221;. Andere haben einen offiziellen Wohnsitz, aber jeder
weiß, dass sie in Wirklichkeit ganz woanders wohnen.</p>
<p>Um dieses Chaos unter Kontrolle zu kriegen, haben wir uns folgendes
System ausgedacht:</p>
<ul class="simple">
<li>Jeder Klient ist ein Partner und hat somit eine &#8220;Hauptadresse&#8221;. Das
ist die, die in der Tabelle selber gespeichert ist.</li>
<li>Jetzt kommt eine neue Tabelle &#8220;Adressen&#8221; hinzu, in der man pro
Klient eine Liste aller &#8220;möglichen&#8221; Adressen pflegen kann.</li>
<li>Es kommt auch eine neue Tabelle &#8220;Adressart&#8221; mit unter anderem den
Einträgen &#8220;Offizieller Wohnsitz&#8221;, &#8220;Tatsächlicher Wohnsitz&#8221;,
&#8220;Referenzadresse&#8221;, &#8220;Sonstige&#8221;.</li>
<li>Die Hauptadresse des Klienten kann nicht mehr direkt verändert
werden. Stattdessen ändert man in der Adressenliste.</li>
<li>Lino muss also irgendwie wissen, welche Adresse man zur Hauptadresse
ernannt hat. Diese Wahl kann pro Klient ändern.  Deshalb gibt es pro
Klientenadresse ein Ankreuzfeld &#8220;primär&#8221;
bzw. &#8220;Hauptadresse&#8221;. Ähnlich wie bei den Coachings kann immer nur
eine Adresse pro Klient primär sein.</li>
<li>Weil die Adresse nicht mehr direkt änderbar ist, braucht sie nicht
mehr in der platzaufwändigen Formularanischt im Detail zu stehen.</li>
<li>Lohnt es sich, das System wiederverwertbar zu machen? Eher
nicht. Abgesehen von den Funktionen, die sowieso schon
wiederverwertbar sind, scheint mir die hier beschriebene Logik sehr
spezifisch zu sein. Zumindest die Liefer- und Fakturationsadressen
im privatwirtschaftlichen Verkaufsmodul haben damit nichts zu tun,
da legt man eher getrennte Partner an.</li>
</ul>
<p>Changes:</p>
<ul class="simple">
<li>New model <cite>pcsw.ClientAddress</cite>
(<code class="xref py py-class docutils literal"><span class="pre">lino_welfare.modlib.pcsw.client_address.ClientAddress</span></code>)</li>
<li>moved some code from <a class="reference external" href="http://welfare.lino-framework.org/api/lino_welfare.modlib.pcsw.html#module-lino_welfare.modlib.pcsw" title="(in Lino Welfare Reference Manual v1.1)"><code class="xref py py-mod docutils literal"><span class="pre">lino_welfare.modlib.pcsw</span></code></a> to a new module
<a class="reference external" href="http://welfare.lino-framework.org/api/lino_welfare.modlib.pcsw.coaching.html#module-lino_welfare.modlib.pcsw.coaching" title="(in Lino Welfare Reference Manual v1.1)"><code class="xref py py-mod docutils literal"><span class="pre">lino_welfare.modlib.pcsw.coaching</span></code></a></li>
<li>Moved parts from <cite>contacts.Partner</cite> to a <cite>contacts.AddressLocation</cite> mixin.</li>
</ul>
<p>TODO:</p>
<ul class="simple">
<li>adapt test suites</li>
<li>ui integration</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">About me</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><p align="center">
<a href="https://github.com/lsaffre" target="_blank">GitHub</a>
<br/><a href="http://www.lino-framework.org" target="_blank">Lino</a>
<br/><a href="http://www.saffre-rumma.net" target="_blank">Rumma & Ko</a>
</p>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="0204.html" title="20140204 (Tuesday, 04 February 2014)"
             >next</a> |</li>
        <li class="right" >
          <a href="0131.html" title="20140131 (Friday, 31 January 2014)"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >2014</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">

<a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/2.5/88x31.png" /></a>
This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution-ShareAlike 2.5 Generic License</a>.<br />
      Last updated on 2015-03-31.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.
<a href="../../_sources/blog/2014/0203.txt">Show Source</a> 
    <a href="http://luc.lino-framework.org/blog/2014/0203.html">Online Link</a>
    </div>
  </body>
</html>