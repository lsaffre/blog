<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>20140331 (Monday, 31 March 2014) &mdash; Luc&#39;s website</title>
    
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/centeredlogo.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist_tags.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Luc&#39;s website"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Luc&#39;s website" href="../../index.html" />
    <link rel="up" title="2014" href="index.html" />
    <link rel="next" title="20140401 (Tuesday, 01 April 2014)" href="0401.html" />
    <link rel="prev" title="20140329 (Saturday, 29 March 2014)" href="0329.html" />
   
<script src="../../.htmldata/lightbox/js/jquery-1.11.0.min.js"></script>
<script src="../../.htmldata/lightbox/js/lightbox.min.js"></script>
<link href="../../.htmldata/lightbox/css/lightbox.css" rel="stylesheet" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="0401.html" title="20140401 (Tuesday, 01 April 2014)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="0329.html" title="20140329 (Saturday, 29 March 2014)"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">2014</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="monday-31-march-2014">
<h1>20140331 (Monday, 31 March 2014)<a class="headerlink" href="#monday-31-march-2014" title="Permalink to this headline">¶</a></h1>
<div class="section" id="similarpersons-ready-for-customer-review">
<h2>SimilarPersons ready for customer review<a class="headerlink" href="#similarpersons-ready-for-customer-review" title="Permalink to this headline">¶</a></h2>
<p>SimilarPersons has now <cite>slave_grid_format</cite> = &#8216;summary&#8217;.  Fixed a bug
in the framework which made that Lino didn&#8217;t yet manage this case
(setting <cite>slave_grid_format</cite> to &#8220;summary&#8221; on a VirtualTable).</p>
<p>The algorithm for finding similar persons isn&#8217;t yet very intelligent,
but at least we have now an integral workflow to cope with the problem
of duplicate new clients. Great!  SimilarPersons is ready for customer
review.</p>
</div>
<div class="section" id="aid-regimes-aid-helpers">
<h2>Aid regimes, Aid helpers<a class="headerlink" href="#aid-regimes-aid-helpers" title="Permalink to this headline">¶</a></h2>
<p>Added some new tables in <code class="xref py py-mod docutils literal"><span class="pre">lino_welfare-modlib.aids</span></code>. This is my
favourite suggestion about how to store these information. To be
tested and analyzed with end-users.</p>
<p>Checkin.</p>
<p>Also discovered a very subtle pitfall:</p>
<p>When inserting to MedicalAidsByClient and then (in the Insert window)
opening the ComboBox for the <cite>aid_type</cite> field, Lino displayed <em>all</em>
AidType objects (also financial ones).  This was not correct since
<cite>get_known_values</cite> sets <cite>aid_regime</cite> to a non-None value.</p>
<p>In fact already the ajax call used to get that choicelist was wrong,
it went to <cite>/choices/aids/AidsByClient/aid_type</cite> instead of
<cite>/choices/aids/MedicalAidsByClient/aid_type</cite>.</p>
<p>This is was solved by a workaround: We define <cite>insert_layout</cite> on both
subclasses of AidsByClient, not on the base class.  This is not
logical since they are the same, but necessary due to the current
implementation of combobox fields. The url from which a combobox field
gets its data is a hard-coded constant in the (generated) JS code.  If
you don&#8217;t duplicate the insert_layout, then Lino will generate only
one ExtJS definition of the InsertWindow, common to all
subclasses. See <code class="xref py py-class docutils literal"><span class="pre">lino.ui.elems.ForeignKeyElement</span></code>
and <code class="xref py py-class docutils literal"><span class="pre">lino.ui.elems.RemoteComboFieldElement</span></code></p>
<p>Note that this trick of using an <cite>_aid_regime</cite> class attribute
(in <code class="xref py py-mod docutils literal"><span class="pre">lino_welfare.modlib.aids.models.AidsByClient</span></code>)
as only
difference between those two tables is rather special.  It is also
being used for differentiating between &#8220;Studies&#8221; and &#8220;Trainings&#8221;.
Usually I recommend to define two different models (and use an
abstract model mixin for their common parts). But these cases are not
usual.</p>
</div>
<div class="section" id="thunderbird-fails-to-send-message">
<h2>Thunderbird fails to send message<a class="headerlink" href="#thunderbird-fails-to-send-message" title="Permalink to this headline">¶</a></h2>
<p>First question:
How to have Thunderbird log debug information?
Answer:
<a class="reference external" href="https://wiki.mozilla.org/MailNews:Logging#Other_Protocol_Logging_options_within_MailNews">https://wiki.mozilla.org/MailNews:Logging#Other_Protocol_Logging_options_within_MailNews</a></p>
<div class="highlight-python"><div class="highlight"><pre># For bash shell (the default shell on most GNU/Linux systems):
export NSPR_LOG_MODULES=imap:5
export NSPR_LOG_FILE=/tmp/imap.log
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">About me</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><p align="center">
<a href="https://github.com/lsaffre" target="_blank">GitHub</a>
<br/><a href="http://www.lino-framework.org" target="_blank">Lino</a>
<br/><a href="http://www.saffre-rumma.net" target="_blank">Rumma & Ko</a>
</p>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="0401.html" title="20140401 (Tuesday, 01 April 2014)"
             >next</a> |</li>
        <li class="right" >
          <a href="0329.html" title="20140329 (Saturday, 29 March 2014)"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >2014</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">

<a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/2.5/88x31.png" /></a>
This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution-ShareAlike 2.5 Generic License</a>.<br />
      Last updated on 2015-03-31.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.
<a href="../../_sources/blog/2014/0331.txt">Show Source</a> 
    <a href="http://luc.lino-framework.org/blog/2014/0331.html">Online Link</a>
    </div>
  </body>
</html>