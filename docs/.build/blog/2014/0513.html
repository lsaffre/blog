<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Tuesday, May 13, 2014 &mdash; Luc&#39;s website</title>
    
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/centeredlogo.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist_tags.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Luc&#39;s website"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Luc&#39;s website" href="../../index.html" />
    <link rel="up" title="2014" href="index.html" />
    <link rel="next" title="Wednesday, May 14, 2014" href="0514.html" />
    <link rel="prev" title="Monday, May 12, 2014" href="0512.html" />
   
<script src="../../.htmldata/lightbox/js/jquery-1.11.0.min.js"></script>
<script src="../../.htmldata/lightbox/js/lightbox.min.js"></script>
<link href="../../.htmldata/lightbox/css/lightbox.css" rel="stylesheet" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="0514.html" title="Wednesday, May 14, 2014"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="0512.html" title="Monday, May 12, 2014"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">2014</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tuesday-may-13-2014">
<h1>Tuesday, May 13, 2014<a class="headerlink" href="#tuesday-may-13-2014" title="Permalink to this headline">¶</a></h1>
<p>Worked on Uploads:</p>
<ul class="simple">
<li>Fixed: Inserting in UploadsByClient sets the <cite>owner</cite> but not the <cite>client</cite>.</li>
<li><cite>CreateRow</cite> and <cite>SubmitInsert</cite> may not set the <cite>rows</cite> attribute of
the AJAX response when it is a <a class="reference external" href="https://docs.djangoproject.com/en/dev/topics/http/file-uploads/">file upload</a>. Because
can contain complex strings which cause decoding problems on the
client when responding to a file upload.</li>
<li>The summary panel of uploads was not satisfying. Maybe now.</li>
<li>Overriding the <cite>detail_layout</cite> of <cite>uploads.Uploads</cite> causes subtle
problems. I cannot simply say <code class="docutils literal"><span class="pre">Uploads.detail_layout</span> <span class="pre">=</span> <span class="pre">&quot;...&quot;</span></code> in
<a class="reference external" href="http://welfare.lino-framework.org/api/lino_welfare.modlib.uploads.models.html#module-lino_welfare.modlib.uploads.models" title="(in Lino Welfare Reference Manual v1.1)"><code class="xref py py-mod docutils literal"><span class="pre">lino_welfare.modlib.uploads.models</span></code></a> because the
<cite>detail_layout</cite> attribute has already been inherited to subclasses
of <cite>uploads.Uploads</cite>.  I&#8217;ll have to change something in the kernel
startup some day: resolve layouts a bit later in a separate loop.
Currently a visible consequence is that double-clicking on a row in
a grid view of some subclass of Uploads shows the wrong layout.</li>
<li>&#8216;AidType&#8217; object has no attribute &#8216;get_detail_action&#8217;</li>
<li>Added a new test case &#8220;Paul Frisch&#8221; in <a class="reference external" href="http://welfare.lino-framework.org/tested/integ.html#welfare-tested-integ" title="(in Lino Welfare Reference Manual v1.1)"><span>Integration Service</span></a>.</li>
</ul>
<p>Nach Baustellenbesichtigung mit Gerd habe ich die folgenden neuen
Ideen gemacht:</p>
<ul class="simple">
<li>Klientenkontakte kommt nach Begleitung zurück (wo es bisher war)</li>
<li>Adressen nur noch als action link im info_panel</li>
<li>Reiter &#8220;Kontakte&#8221; umbenennen nach &#8220;Beziehungen&#8221;.</li>
<li>Im Reiter &#8220;Beziehungen&#8221; ein neues Panel &#8220;Zusammenfassung Beziehungen
der letzten Tx25&#8221;.</li>
<li>Eine coole Idee war auch <cite>Human.format_family_member</cite></li>
</ul>
<p>Es gibt noch ein fieses Problem:</p>
<p>Createattestation auf Client erstellt einen Auszug und zweigt ihn
an... aber man kann die Auszugsart nicht auswählen. Weil owner ein
GenericForeignKey ist, und Lino kriegtq das noch nicht hin als
Parameter eines choosers.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">About me</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><p align="center">
<a href="https://github.com/lsaffre" target="_blank">GitHub</a>
<br/><a href="http://www.lino-framework.org" target="_blank">Lino</a>
<br/><a href="http://www.saffre-rumma.net" target="_blank">Rumma & Ko</a>
</p>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="0514.html" title="Wednesday, May 14, 2014"
             >next</a> |</li>
        <li class="right" >
          <a href="0512.html" title="Monday, May 12, 2014"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >2014</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2001-2015 Luc Saffre.
      Last updated on 2015-03-31.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.
    <a href="https://raw.github.com/lsaffre/blog/master/docs/blog/2014/0513.rst"
           rel="nofollow">Show Source</a>.
    <a href="http://luc.lino-framework.org/blog/2014/0513.html">Online Link</a>
    </div>
  </body>
</html>