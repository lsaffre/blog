<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>01.03.2010 &mdash; Luc&#39;s website</title>
    
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/centeredlogo.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist_tags.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Luc&#39;s website"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Luc&#39;s website" href="../../index.html" />
    <link rel="up" title="2010" href="index.html" />
    <link rel="next" title="&lt;no title&gt;" href="0302.html" />
    <link rel="prev" title="28.02.2010" href="0228.html" />
   
<script src="../../.htmldata/lightbox/js/jquery-1.11.0.min.js"></script>
<script src="../../.htmldata/lightbox/js/lightbox.min.js"></script>
<link href="../../.htmldata/lightbox/css/lightbox.css" rel="stylesheet" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="0302.html" title="&lt;no title&gt;"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="0228.html" title="28.02.2010"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">2010</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="id1">
<h1>01.03.2010<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p>Weiter mit dem Text-Editor. Es ist ja übrigens nicht nur der HtmlEditor, der nicht automatisch &#8220;den Rest des Fensters&#8221; ausfüllt. Auch die GridElements in einem Detail-Fenster tun das im Grunde nicht. Ich hatte das da mit autoHeight unter den Teppich gekehrt. Hier ein paar neue Regeln, die ich nun implementieren will:</p>
<p>Wenn das Hauptelement eines Layouts ein vertikales Panel ist, und wenn ein Element dieses Panels &#8220;vertikal flexibel&#8221; ist, dann soll das als Füller benutzt werden. Und wenn es kein vflex-Element im Hauptelement gibt, dann darf die Fensterhöhe eigentlich nicht verändert werden. Z.B. im Login-Dialogfenster hat das in der tat keinen Sinn. Und wenn mehrere Elemente vflex sind? Dann kriegen sie die verbleibende Höhe proportional zugeteilt, entsprechend ihrer <cite>height or preferred_height</cite>.
Ein vertikales Panel ist vflex, wenn mindestens eines seiner Kinder vflex ist.
Ein horizontales Panel ist vflex, wenn <em>alle</em> seine Kinder vflex sind.</p>
<p>Ich brauche übrigens kein BorderLayout, sondern eine vbox ist logischer.
Die Beispiele, die ich brauchte, um das zu verstehen, sind
[<a class="reference external" href="http://code.google.com/p/lino/source/browse/extjs-showcases/20100228_htmleditor.html">http://code.google.com/p/lino/source/browse/extjs-showcases/20100228_htmleditor.html</a> hier].</p>
<p>Die eigentliche Integrierung dieser Ideen in Lino (dass er solchen JS generiert) war nicht allzu schwer, aber wegen eines mir rätselhaften Details brauchte ich noch mehrere Stunden, um den Fall in einem showcase zu isolieren und eine
[<a class="reference external" href="http://www.extjs.com/forum/showthread.php?p=441918#post441918">http://www.extjs.com/forum/showthread.php?p=441918#post441918</a> Frage im ExtJS-Forum] zu stellen. Keine 5 Minuten später hatte Animal meinen Fehler gefunden.</p>
<p>Checkin</p>
<p>Weiter: Das Problem &#8220;store is not defined&#8221; nach Eingabe im
Schnellfilter war leicht.</p>
<p>Weiter: Das Problem mit den ForeignKey-Comboboxen ist fies, dafür muss ich Issue 100 (ContextAwareChoices needs redesign) in Angriff nehmen.</p>
<p><cite>Report.get_field_choices()</cite> funktioniert jetzt mit dem neuen API. Die neue [<a class="reference external" href="http://code.google.com/p/lino/source/browse/src/lino/test_apps/20100301/models.py">http://code.google.com/p/lino/source/browse/src/lino/test_apps/20100301/models.py</a> lino.test_apps.20100301] testet das.</p>
<p>TODO:</p>
<blockquote>
<div><ul class="simple">
<li><cite>ext_ui.choices_view()</cite> muss die POST-Parameter noch in Python-Werte umwandeln, das ist die gleiche Logik wie die Converter in Instantiator.</li>
<li>und das Fieseste wird dann das Suchen nach den Bugs im JS-Code sein.</li>
</ul>
</div></blockquote>
<p>Aber jetzt ist erst mal Feierabend. Sechseinhalb Stunden Lino, das ist nicht schlecht für einen Montag.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">About me</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><p align="center">
<a href="https://github.com/lsaffre" target="_blank">GitHub</a>
<br/><a href="http://www.lino-framework.org" target="_blank">Lino</a>
<br/><a href="http://www.saffre-rumma.net" target="_blank">Rumma & Ko</a>
</p>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="0302.html" title="&lt;no title&gt;"
             >next</a> |</li>
        <li class="right" >
          <a href="0228.html" title="28.02.2010"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >2010</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2001-2015 Luc Saffre.
      Last updated on 2015-03-31.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.
    <a href="https://raw.github.com/lsaffre/blog/master/docs/blog/2010/0301.rst"
           rel="nofollow">Show Source</a>.
    <a href="http://luc.lino-framework.org/blog/2010/0301.html">Online Link</a>
    </div>
  </body>
</html>