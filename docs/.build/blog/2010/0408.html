<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>&lt;no title&gt; &mdash; Luc&#39;s website</title>
    
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/centeredlogo.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist_tags.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Luc&#39;s website"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Luc&#39;s website" href="../../index.html" />
    <link rel="up" title="2010" href="index.html" />
    <link rel="next" title="12.04.2010" href="0412.html" />
    <link rel="prev" title="&lt;no title&gt;" href="0406.html" />
   
<script src="../../.htmldata/lightbox/js/jquery-1.11.0.min.js"></script>
<script src="../../.htmldata/lightbox/js/lightbox.min.js"></script>
<link href="../../.htmldata/lightbox/css/lightbox.css" rel="stylesheet" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="0412.html" title="12.04.2010"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="0406.html" title="&lt;no title&gt;"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">2010</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <p>= [20100406 ←] [20100408 08.04.2010] [20100412 →] =</p>
<p>Endlich kann ich nochmal an Lino weiter arbeiten! Wir sind noch immer beim Buddeln nach der Lawine, die durch das Amputieren der Dialoge ausgelöst wurde. Doof, dass das alles erst so kurz vor der Geburt kommt, aber gut, dass es nicht erst nachher kommt.</p>
<p>Also GridMaster-Fenster funktionieren schon wieder. Heute will ich zuerst mal die Permalinks auferwecken.</p>
<p>Die URL <cite>/do_permalink</cite> war doppelt gemoppelter Kram, die kommt weg.
In der <cite>Ext.onReady</cite> wird <cite>Lino.run_permalinks</cite> gerufen, die ungefähr folgendes macht:</p>
<div class="highlight-python"><div class="highlight"><pre>Lino.run_permalink = function() {
  var links = Lino.gup(&#39;permalink&#39;).split(&#39;,&#39;);
  for ( i=0; i &lt; links.length; i++ ) {
    Lino.do_action(undefined,&#39;/action&#39;+links[i],{});
  }
}
</pre></div>
</div>
<p>Dort und in den Menübefehlen wird nun die gleiche Funktion <cite>Lino.do_action</cite> ersetzt, die ähnlich wie vorher <cite>do_dialog</cite> arbeitet aber keine modalen Dialogfenster mehr kann.</p>
<p>Um an den Permalink aufzurufen, muss der Benutzer ja momentan auf
&#8220;permalink with open windows&#8221; klicken. Dieser Link, der momentan in
der lino_settings.py definiert werden muss, hat ein
<cite>onclick=Lino.goto_permalink</cite>:</p>
<div class="highlight-python"><div class="highlight"><pre>Lino.goto_permalink = function () {
    var windows = &quot;&quot;;
    var sep = &#39;&#39;;
    Ext.WindowMgr.each(function(win){
      if(!win.hidden &amp;&amp; !win.window_wrapper.caller) {
        windows += sep + win.window_wrapper.config.url;
        sep = &quot;,&quot;
      }
    });
    //~ document.location = &quot;/permalink/?show=&quot; + windows;
    if (windows) document.location = &quot;?permalink=&quot; + windows;
};
</pre></div>
</div>
<p>Statt eines Links in der <cite>lino.index_html</cite> sollte das wohl besser als Button im Menü oder sonstwo stehen.</p>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">About me</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><p align="center">
<a href="https://github.com/lsaffre" target="_blank">GitHub</a>
<br/><a href="http://www.lino-framework.org" target="_blank">Lino</a>
<br/><a href="http://www.saffre-rumma.net" target="_blank">Rumma & Ko</a>
</p>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="0412.html" title="12.04.2010"
             >next</a> |</li>
        <li class="right" >
          <a href="0406.html" title="&lt;no title&gt;"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >2010</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2001-2015 Luc Saffre.
      Last updated on 2015-03-31.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.
    <a href="https://raw.github.com/lsaffre/blog/master/docs/blog/2010/0408.rst"
           rel="nofollow">Show Source</a>.
    <a href="http://luc.lino-framework.org/blog/2010/0408.html">Online Link</a>
    </div>
  </body>
</html>