<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>20100619 &mdash; Luc&#39;s website</title>
    
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/centeredlogo.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist_tags.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Luc&#39;s website"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Luc&#39;s website" href="../../index.html" />
    <link rel="up" title="2010" href="index.html" />
    <link rel="next" title="20100621" href="0621.html" />
    <link rel="prev" title="20100617" href="0617.html" />
   
<script src="../../.htmldata/lightbox/js/jquery-1.11.0.min.js"></script>
<script src="../../.htmldata/lightbox/js/lightbox.min.js"></script>
<link href="../../.htmldata/lightbox/css/lightbox.css" rel="stylesheet" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="0621.html" title="20100621"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="0617.html" title="20100617"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">2010</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="id1">
<h1>20100619<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p>Die Version von gestern ist einigermaßen stabil im Fenster-UI. Was mir da noch Sorge bereitet ist die Performance und die fundamentale Frage, ob die Benutzung von Fenstern (<cite>Ext.Window</cite>) gut ist.</p>
<p>Gestern konnte ich nicht an Lino arbeiten, weil wir nach Pärnu fahren mussten, um Fenster zu bestellen. Und abends vor dem Einschlafen hatte ich erste konkrete Ideen für einen fensterlosen Lino. Das wird ein eigenes Modul <cite>ui.extjsu</cite>, das vom bestehenden <cite>ui.extjs</cite> ausgeht, sich aber an einigen Stellen stark unterscheiden wird. Das <cite>u</cite> ist, weil dieses fensterlose UI nun wieder mit eindeutigen URLs arbeiten kann.</p>
<p>Bei dieser Gelegenheit habe ich nochmal gesurft, ob jQuery dann nicht ein Ersatz für ExtJS sein kann. Antwort: scheinbar nein. <a class="reference external" href="http://www.trirand.com/jqgridwiki/doku.php">jqGrid</a> sieht zwar ganz geeignet aus (und ist frei), aber <a class="reference external" href="http://flexbox.codeplex.com/">FlexBox</a> der einzige potentielle Ersatz für ExtJS&#8217;s (remote) ComboBox ist <a class="reference external" href="http://flexbox.codeplex.com/license">nicht frei</a>. Auch <a class="reference external" href="http://coderseye.com/2008/why-i-didnt-switch-from-jquery-to-extjs-after-all.html">dieser Blog-Eintrag hier</a> bestätigt mir, dass ExtJS und nicht jQuery das Richtige sind für Lino.</p>
<p>URL-Struktur in <cite>ui.extjsu</cite> :</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>GET /contacts/Persons?fmt=grid</td>
<td>Listenansicht</td>
</tr>
<tr class="row-even"><td>GET /contacts/Persons?fmt=grid&amp;page=2</td>
<td>Listenansicht Seite 2</td>
</tr>
<tr class="row-odd"><td>GET /contacts/Persons?fmt=grid&amp;page=-1</td>
<td>Listenansicht letzte Seite</td>
</tr>
<tr class="row-even"><td>GET /contacts/Persons?fmt=grid&amp;query=eup</td>
<td>Listenansicht mit quick search</td>
</tr>
<tr class="row-odd"><td>GET /contacts/Persons?fmt=insert</td>
<td>Fenster zum Erstellen eines neuen Records</td>
</tr>
<tr class="row-even"><td>GET /contacts/Persons?fmt=detail&amp;row=1</td>
<td>Detailansicht Record 1 der Liste</td>
</tr>
<tr class="row-odd"><td>GET /contacts/Persons/7?fmt=detail</td>
<td>Detailansicht Record mit pk=7</td>
</tr>
</tbody>
</table>
<blockquote>
<div><ul class="simple">
<li>Die &#8220;Aktion&#8221; (grid, detail, insert) wird also zum &#8220;Format&#8221;</li>
<li>Die beiden letzten URIs geben fast das gleiche Resultat zurück, jedoch einmal mit Navigationsbuttons in der bbar.</li>
</ul>
</div></blockquote>
<p>Allgemeine Seitenstruktur:</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;html&gt;&lt;head&gt;
...
&lt;script type=&quot;text/javascript&quot; src=&quot;/media/lino/lino.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;/media/cache/js/site.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
Ext.onReady(function(){
  new Ext.Toolbar({...}).render(&#39;tbar&#39;);
  new Lino.GridWrapper({...}).render(&#39;main&#39;);
  new Ext.Toolbar({...}).render(&#39;bbar&#39;);
  Ext.QuickTips.init();
}); // end of onReady()
&lt;/script&gt;&lt;/head&gt;
&lt;body&gt;
&lt;div id=&quot;tbar&quot;/&gt;
&lt;div id=&quot;main&quot;/&gt;
&lt;div id=&quot;bbar&quot;/&gt;
&lt;/body&gt;&lt;/html&gt;
</pre></div>
</div>
<p>Die <code class="file docutils literal"><span class="pre">site.js</span></code> ist dann vielleicht gar nicht mehr nötig.
In der lino.js kommen viele fundamentale Änderungen: ext_ui
hat ja den Report und eventuell den Record instanziert.
Den muss es an den ActionRenderer übergeben. Der muss kein
Window mehr erzeugen, sondern eine <cite>jsgen.Component</cite> (die
ihrerseits eine ext.Component generiert). Heißt also auch gar
nicht mehr <cite>WindowWrapper</cite>. Der Code wird wieder dynamisch generiert.
Das Argument <cite>caller</cite> fällt in den bisherigen WindowWrappers
komplett weg.</p>
<p>Bei Upgrade beachten: die Dateien lino.js und lino.css sind jetzt
nicht mehr in /lino/media, sondern in lino/src/lino/ui/extjsu/media.
Für den Development-Server wird das automatisch gemacht
(in der urls.py), aber im Apache muss das manuell gemacht werden.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">About me</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><p align="center">
<a href="https://github.com/lsaffre" target="_blank">GitHub</a>
<br/><a href="http://www.lino-framework.org" target="_blank">Lino</a>
<br/><a href="http://www.saffre-rumma.net" target="_blank">Rumma & Ko</a>
</p>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="0621.html" title="20100621"
             >next</a> |</li>
        <li class="right" >
          <a href="0617.html" title="20100617"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >2010</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2001-2015 Luc Saffre.
      Last updated on 2015-03-31.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.
    <a href="https://raw.github.com/lsaffre/blog/master/docs/blog/2010/0619.rst"
           rel="nofollow">Show Source</a>.
    <a href="http://luc.lino-framework.org/blog/2010/0619.html">Online Link</a>
    </div>
  </body>
</html>