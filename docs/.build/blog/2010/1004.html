<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>20101004 &mdash; Luc&#39;s website</title>
    
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/centeredlogo.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist_tags.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Luc&#39;s website"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Luc&#39;s website" href="../../index.html" />
    <link rel="up" title="2010" href="index.html" />
    <link rel="next" title="20101007" href="1007.html" />
    <link rel="prev" title="20101001 Notizen einfügen" href="1001.html" />
   
<script src="../../.htmldata/lightbox/js/jquery-1.11.0.min.js"></script>
<script src="../../.htmldata/lightbox/js/lightbox.min.js"></script>
<link href="../../.htmldata/lightbox/css/lightbox.css" rel="stylesheet" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="1007.html" title="20101007"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="1001.html" title="20101001 Notizen einfügen"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">2010</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="id1">
<h1>20101004<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p>Also hier einige Layout-Bugs, die ich jetzt mal bearbeiten will, weil sie
momentan schön sichtbar sind im Detail von dsbe.Persons:</p>
<ul class="simple">
<li>&#8220;Studien &amp; Erfahrungen&#8221; im Tab <a class="reference external" href="http://127.0.0.1:8000/api/contacts/Persons/16?fmt=detail&amp;tab=1">Person</a> lässt sich
höhenverstellen, aber &#8220;AG-Sperren&#8221; in &#8220;Profil 1&#8221; nicht. Die hbox mit dem Bild hat anfangs immer die falsche Höhe.</li>
<li>Im Tab <a class="reference external" href="http://127.0.0.1:8000/api/contacts/Persons/16?fmt=detail&amp;tab=0">Kontakt</a> fehlen die flags, die ich noch zwischen remarks und coaching knallen will. Zumindest will ich mal sehen, wie sich das macht. Aber wenn ich das tue, ist die ganze untere hbox nicht mehr da.</li>
<li>Im Tab <a class="reference external" href="http://127.0.0.1:8000/api/contacts/Persons/16?fmt=detail&amp;tab=0">Kontakt</a> , box &#8220;coaching&#8221; nimmt die Grid zu viel Platz ein. Da hat Lino unnötigerweise einen VBorderPanel benutzt. Das ist nicht nötig, wenn nur ein Element vflex ist.</li>
<li>Im Tab <a class="reference external" href="http://127.0.0.1:8000/api/contacts/Persons/16?fmt=detail&amp;tab=1">Person</a> nimmt die Grid zu viel Höhe.</li>
<li>Im Detail-Tab &#8220;Profil 1&#8221; nimmt das GridElement anfangs den ganzen Raum ein, die Felder im oberen Teil werden erst nach einem resize sichtbar.</li>
</ul>
<p>Na schauen wir uns das Person-Tab mal genauer an. Hier die Layout-Beschreibung:</p>
<div class="highlight-python"><div class="highlight"><pre>main =
  box1:40 box2:20  image:30
  dsbe.StudiesByPerson
box1 =
  sex:8 birth_date birth_date_circa
  birth_country birth_place
  native_language civil_state
  nationality national_id:15
  card_number:10 card_valid_from card_valid_until:10
box2 =
  gesdos_id
  health_insurance
  pharmacy
</pre></div>
</div>
<p>So sieht es aus:</p>
<a class="reference internal image-reference" href="../../_images/1004a.jpg"><img alt="../../_images/1004a.jpg" src="../../_images/1004a.jpg" style="width: 726.6px; height: 597.8px;" /></a>
<p>Problem ist, dass <cite>box1</cite> anfangs nicht sichtbar ist (Höhe 0 hat).</p>
<p>Jetzt schauen wir uns mal einige Auszüge aus dem generierten JS-Code an.
Also <cite>box1</cite> und <cite>box2</cite> sind zwei Container mit layout &#8220;form&#8221;:</p>
<div class="highlight-python"><div class="highlight"><pre>var box1_panel285 = new Ext.Container({
    flex: 57, layout: &quot;form&quot;,
    items: [box1_1_panel262, box1_2_panel267, box1_3_panel272, box1_4_panel277, box1_5_panel284],
});
var box2_panel292 = new Ext.Container({
    flex: 28, layout: &quot;form&quot;,
    items: [gesdos_id_ct_panel287, health_insurance_ct_panel289, pharmacy_ct_panel291],
});
</pre></div>
</div>
<p>Dann das Bild:</p>
<div class="highlight-python"><div class="highlight"><pre>var image293 = new Ext.BoxComponent({
    flex: 14,
    style: { cursor: &quot;pointer&quot;, height: &quot;100%&quot; },
    autoEl: { tag: &quot;img&quot; },
    plugins: Lino.PictureBoxPlugin
});
</pre></div>
</div>
<p>Diese drei kommen in eine hbox <cite>main_1</cite> (der Name bedeutet,
dass es die erste Zeile im Element <cite>main</cite> ist):</p>
<div class="highlight-python"><div class="highlight"><pre>var main_1_panel294 = new Ext.Container({
    layout: &quot;hbox&quot;,
    split: true,
    items: [box1_panel285, box2_panel292, image293],
    region: &quot;north&quot;,
    layoutConfig: { align: &quot;stretch&quot; },
});
</pre></div>
</div>
<p>Dann die Grid:</p>
<div class="highlight-python"><div class="highlight"><pre>var dsbe_StudiesByPerson_grid307 = new Lino.GridPanel({
    flex: 66,
    title: &quot;Studien &amp; Erfahrungen&quot;,
    region: &quot;center&quot;,
    split: true,
    ...
});
</pre></div>
</div>
<p>Und diese beiden kommen in ein VBorderPanel:</p>
<div class="highlight-python"><div class="highlight"><pre>var main_panel308 = new Lino.VBorderPanel({
    title: &quot;Person&quot;,
    autoScroll: true,
    items: [main_1_panel294, dsbe_StudiesByPerson_grid307],
    frame: true,
    border: false,
    bodyBorder: false,
    labelAlign: &quot;top&quot;
});
</pre></div>
</div>
<p>Frage der Woche: wo ist der Fehler?</p>
<p>05.10. und 06.10. : Arbeiten an <a class="reference external" href="https://github.com/lsaffre/lino/blob/master//extjs-showcases/20101005.html">/extjs-showcases/20101005.html</a>.</p>
<p>06.10., 15 Uhr:  Tilt!
Eine hbox, die ein vflex-Element enthält (also die <cite>main_1</cite> im Beispiel)
muss für <cite>layoutConfig.align</cite> nicht <cite>stretch</cite> sondern <cite>stretchmax</cite> haben.
Eigentlich müssen alle hboxen, deren autoHeight=true ist
und die eine form enthalten (für die das autoHeight ja gedacht ist),
stretchmax statt stretch verwenden.</p>
<p>Das Passfoto habe ich nach Profil 1 versetzt, wo es m.E. am besten hinpasst.</p>
<p>Alle oben genannten Probleme sind jetzt gelöst.
Ein Problem ist hinzugekommen oder offensichtlicher geworden: einige Details funktionieren nur,
wenn sie über den Permalink aufgerufen werden. Also wenn man über den Button hinklickt, sind Fehler.
Der Permalink-Button ist dafür kein zufriedenstellender Workaround, weil bei dessen
Verwendung die Historie verloren geht. Habe schon einen neuen Tool-Button &#8220;refresh&#8221; hingeklebt,
der momentan <cite>main_item.doLayout()</cite> macht. Aber das hat leider auch keinen Effekt.</p>
<p>Check-In
<a class="reference external" href="http://code.google.com/p/lino/source/detail?r=3203a1bb7c0be8c07aed3efe3b956ee6df15c70d">Lino</a>
und
<a class="reference external" href="http://code.google.com/p/lino-dsbe/source/detail?r=f73250498612e82f24e50582d557b486b806f5a8">DSBE</a>.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">About me</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><p align="center">
<a href="https://github.com/lsaffre" target="_blank">GitHub</a>
<br/><a href="http://www.lino-framework.org" target="_blank">Lino</a>
<br/><a href="http://www.saffre-rumma.net" target="_blank">Rumma & Ko</a>
</p>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="1007.html" title="20101007"
             >next</a> |</li>
        <li class="right" >
          <a href="1001.html" title="20101001 Notizen einfügen"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >2010</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2001-2015 Luc Saffre.
      Last updated on 2015-03-31.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.
    <a href="https://raw.github.com/lsaffre/blog/master/docs/blog/2010/1004.rst"
           rel="nofollow">Show Source</a>.
    <a href="http://luc.lino-framework.org/blog/2010/1004.html">Online Link</a>
    </div>
  </body>
</html>