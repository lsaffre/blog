<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>20101222 &mdash; Luc&#39;s website</title>
    
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/centeredlogo.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist_tags.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Luc&#39;s website"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Luc&#39;s website" href="../../index.html" />
    <link rel="up" title="2010" href="index.html" />
    <link rel="next" title="20101223" href="1223.html" />
    <link rel="prev" title="20101221" href="1221.html" />
   
<script src="../../.htmldata/lightbox/js/jquery-1.11.0.min.js"></script>
<script src="../../.htmldata/lightbox/js/lightbox.min.js"></script>
<link href="../../.htmldata/lightbox/css/lightbox.css" rel="stylesheet" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="1223.html" title="20101223"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="1221.html" title="20101221"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">2010</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="id1">
<h1>20101222<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<ul>
<li><p class="first">Upps, da waren noch einige <cite>Report.order_by</cite> nicht angepasst...
Jetzt testet er das beim Server-Startup.</p>
</li>
<li><p class="first">Code-Update in Eupen.</p>
</li>
<li><p class="first">Upps, Kolonnen sortieren funktionierte nicht mehr.
Wenn man z.B. nach Kolonne &#8220;street&#8221; sortieren will, meldet er
&#8220;FieldError: Cannot resolve keyword u&#8217;s&#8216; into field.&#8221;
Lag ebenfalls noch an meinem <cite>Report.order_by</cite>,
der jetzt eine Liste sein muss.
Behoben.</p>
</li>
<li><p class="first"><cite>ext_requests.URL_PARAM_SELECTED</cite> scheint nicht benutzt zu werden,
deshalb habe ich einige Zeilen in ext_requests deaktiviert.
Ich muss in diesen Parametern aufräumen, denn diese Namen
dürfen demnächst nicht mehr als Feldnamen benutzt werden
(wenn ich auch beim GET eines Records eventuelle schon erfasste
Felder angeben will).</p>
</li>
<li><p class="first">Super. Ganz <em>en passant</em> noch mal ne kleine Revolution:
Die bisherigen Dateien <code class="xref std std-xfile docutils literal"><span class="pre">site.js</span></code> und <a class="reference external" href="http://www.lino-framework.org/ref/files.html#xfile-lino.js" title="(in Lino v1.6)"><code class="xref std std-xfile docutils literal"><span class="pre">lino.js</span></code></a> sind jetzt
nur noch eine einzige Datei namens <a class="reference external" href="http://www.lino-framework.org/ref/files.html#xfile-lino.js" title="(in Lino v1.6)"><code class="xref std std-xfile docutils literal"><span class="pre">lino.js</span></code></a> (die wie die bisherige <code class="xref std std-xfile docutils literal"><span class="pre">site.js</span></code>
beim Server-Start in den Cache generiert wird).
Die bisherige <a class="reference external" href="http://www.lino-framework.org/ref/files.html#xfile-lino.js" title="(in Lino v1.6)"><code class="xref std std-xfile docutils literal"><span class="pre">lino.js</span></code></a> steht jetzt in
<a class="reference external" href="https://github.com/lsaffre/lino/blob/master//lino/ui/extjs/linolib.js">/lino/ui/extjs/linolib.js</a>, und der einzige Unterschied ist,
dass sie jetzt mit Cheetah geparst wird.
Grund für diese Neuerung war, dass ich die <cite>ext_requests.URL_PARAMS</cite>
auch dort verwenden will. Denn ich seh schon kommen, dass ein paar von
denen umbenannt werden müssen.</p>
<p>LinoSite prüft das jetzt auch beim Hochfahren und meldet
(falls jemand auf die Idee kommen sollte, in einem seiner
Modelle z.B. ein Feld namens <cite>query</cite> zu definieren)
<cite>Exception: %report_name% defines &#8216;query&#8217; but that is
a reserved name in lino.ui.extjs</cite>.</p>
</li>
</ul>
<p>Der folgende Punkt ist gelöst:</p>
<ul class="simple">
<li>Wenn man z.B. auf Next oder Prev klickt und vorher nicht gespeichert hat,
dann sind alle Änderungen futsch.</li>
</ul>
<p>Ich benutze dazu jetzt <a class="reference external" href="http://www.sencha.com/deploy/dev/docs/?class=Ext.form.BasicForm">Ext.form.BasicForm</a>.`isDirty()`
und <cite>trackResetOnLoad = true</cite>.</p>
<p>Das mit dem &#8220;submit on each change&#8221; kann ich uns wahrscheinlich sparen.
Ein AJAX-Call sollte nur stattfinden, wenn ein Feld mit <cite>on_FIELD_change</cite>
verändert wurde. Das ist technisch ähnlich wie für die Chooser.</p>
<ul class="simple">
<li>Code-Update in Eupen.</li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">About me</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><p align="center">
<a href="https://github.com/lsaffre" target="_blank">GitHub</a>
<br/><a href="http://www.lino-framework.org" target="_blank">Lino</a>
<br/><a href="http://www.saffre-rumma.net" target="_blank">Rumma & Ko</a>
</p>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="1223.html" title="20101223"
             >next</a> |</li>
        <li class="right" >
          <a href="1221.html" title="20101221"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >2010</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">

<a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/2.5/88x31.png" /></a>
This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution-ShareAlike 2.5 Generic License</a>.<br />
      Last updated on 2015-03-31.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.
<a href="../../_sources/blog/2010/1222.txt">Show Source</a> 
    <a href="http://luc.lino-framework.org/blog/2010/1222.html">Online Link</a>
    </div>
  </body>
</html>