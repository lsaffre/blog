<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>20131125 (Monday, 25 November 2013) &mdash; Luc&#39;s website</title>
    
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/centeredlogo.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist_tags.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Luc&#39;s website"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Luc&#39;s website" href="../../index.html" />
    <link rel="up" title="2013" href="index.html" />
    <link rel="next" title="20131126 (Tuesday, 26 November 2013)" href="1126.html" />
    <link rel="prev" title="20131123 (Saturday, 23 November 2013)" href="1123.html" />
   
<script src="../../.htmldata/lightbox/js/jquery-1.11.0.min.js"></script>
<script src="../../.htmldata/lightbox/js/lightbox.min.js"></script>
<link href="../../.htmldata/lightbox/css/lightbox.css" rel="stylesheet" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="1126.html" title="20131126 (Tuesday, 26 November 2013)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="1123.html" title="20131123 (Saturday, 23 November 2013)"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">2013</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="monday-25-november-2013">
<h1>20131125 (Monday, 25 November 2013)<a class="headerlink" href="#monday-25-november-2013" title="Permalink to this headline">¶</a></h1>
<div class="section" id="continued-to-move-to-github">
<h2>Continued to move to GitHub<a class="headerlink" href="#continued-to-move-to-github" title="Permalink to this headline">¶</a></h2>
<p>Moved also <span class="xref std std-ref">atelier</span>, <span class="xref std std-ref">site</span> and <span class="xref std std-ref">north</span> to GitHub.</p>
<ul>
<li><p class="first">Created a new repository &#8220;atelier&#8221; on github,
this time without the
&#8220;Initialize this repository with a README&#8221;
option checked.</p>
</li>
<li><div class="first highlight-python"><div class="highlight"><pre>$ cd ~/hgwork
$ deactivate
$ mv atelier atelier.hg
$ git init atelier
$ cd atelier
$ ../fast-export/hg-fast-export.sh -r ~/hgwork/atelier.hg
$ git checkout HEAD
$ git remote add origin git@github.com:lsaffre/atelier.git
$ git push --mirror https://github.com/lsaffre/atelier.git



$ git mv README.txt README.rst
$ git mv .hgignore .gitignore
$ echo &#39;env.use_mercurial = False&#39; &gt;&gt; fabfile.py
$ . ~/pythonenvs/py27/bin/activate
$ fab ci
</pre></div>
</div>
</li>
<li><p class="first">Adapted
<code class="file docutils literal"><span class="pre">links.html</span></code>
and
<code class="file docutils literal"><span class="pre">layout.html</span></code>
in <code class="file docutils literal"><span class="pre">docs/.templates</span></code>
to link to GitHub instead of Google Code.</p>
</li>
</ul>
<p>Repeated the above for <em>atelier</em>, <em>djangosite</em> and <em>north</em>.</p>
<p>Some notes:</p>
<ul>
<li><p class="first">The commit message generated by <a class="reference external" href="http://atelier.lino-framework.org/api/atelier.fablib.html#command-fab ci" title="(in atelier v0.0)"><code class="xref std std-cmd docutils literal"><span class="pre">fab</span> <span class="pre">ci</span></code></a> now points to the
&#8220;real&#8221; blog entry at <cite>docs.lino-framework.org/blog/yyyy/mmdd.html</cite>,
no longer to the source <cite>.rst</cite> file.
It builds the address using the <cite>intersphinx_url</cite> attribute of
<cite>env.blogger_project</cite>.</p>
<p>Note that my self-designed &#8220;blogging system&#8221; is open to
discussion and critics.
It works for me, but I never had feedback from other
developers about it.
Since I have always been working as an independant developer,
my workflows differ from those of a team project.
Atelier tries to build a bridge between the systems.
The basic difference is that I don&#8217;t always
want to select or create a ticket before starting to do changes.</p>
</li>
<li><p class="first">The <a class="reference external" href="http://git-scm.com/docs/git-remote">git remote</a>
commands are use to manage the &#8220;set of tracked repositories&#8221;
attached to this.</p>
</li>
</ul>
<p>Once I mistakenly <cite>push &#8211;mirror`ed the *djangosite* repository
to *atelier*. Github accepted this. Result was that
https://github.com/lsaffre/atelier
then showed the same content as
https://github.com/lsaffre/djangosite.
I &#8220;repaired&#8221; that by doing another
`git push &#8211;mirror</cite> from my <em>atelier</em> repository.
The reference documentation explains
<a class="reference external" href="http://git-scm.com/docs/git-push">git push &#8211;mirror</a>
as follows:</p>
<blockquote>
<div>&#8220;Instead of naming each ref to push, specifies that all refs under
refs/ (which includes but is not limited to refs/heads/,
refs/remotes/, and refs/tags/) be mirrored to the remote
repository. Newly created local refs will be pushed to the remote
end, locally updated refs will be force updated on the remote end,
and deleted refs will be removed from the remote end. This is the
default if the configuration option remote.&lt;remote&gt;.mirror is set.</div></blockquote>
<p>I don&#8217;t understand nothing of the above sentence and instead
believe that
<cite>git push &#8211;mirror</cite>
simply means &#8220;make remote repository forget everything and
install content of this one there&#8221;.</p>
</div>
<div class="section" id="fixed-some-minor-problems-in-cities-demo-data">
<h2>Fixed some minor problems in cities demo data<a class="headerlink" href="#fixed-some-minor-problems-in-cities-demo-data" title="Permalink to this headline">¶</a></h2>
<p>After the move I re-ren the test suites and discovered
dome problems like the following:</p>
<div class="highlight-python"><div class="highlight"><pre>MultipleObjectsReturned: Problem installing fixture &#39;/home/luc/hgwork/lino/lino/modlib/statbel/fixtures/inscodes.py&#39;: get() returned more than one City -- it returned 2! Lookup parameters were {&#39;country&#39;: &lt;Country: Belgien&gt;, &#39;name&#39;: u&#39;Bl\xe9gny&#39;, &#39;zip_code&#39;: u&#39;4670&#39;}
</pre></div>
</div>
<p>I guess that they came in when I added the
<code class="xref py py-mod docutils literal"><span class="pre">lino.modlib.countries.fixture.demo</span></code> fixture.
Didn&#8217;t notice until now because I didn&#8217;t run <a class="reference external" href="http://atelier.lino-framework.org/api/atelier.fablib.html#command-fab initdb" title="(in atelier v0.0)"><code class="xref std std-cmd docutils literal"><span class="pre">fab</span> <span class="pre">initdb</span></code></a>
after this.</p>
</div>
<div class="section" id="making-my-code-pep8-compliant">
<h2>Making my code PEP8-compliant<a class="headerlink" href="#making-my-code-pep8-compliant" title="Permalink to this headline">¶</a></h2>
<p>Joe wrote:</p>
<blockquote>
<div><p>I&#8217;ve read your blog post about PEP8 and for example the missing
spaces after parameters are for my eyes such a pain to look
at. Maybe it&#8217;s just about habits, but that&#8217;s why I find the fact
that all the python code i standardized so great - almost all
python code is so easy to read.</p>
<p>Would you accept a big pull-request changing for example the whole
Lino.core to PEP8 compliant?</p>
</div></blockquote>
<p>Yes I accept and am now waiting for Joe&#8217;s first &#8220;serious&#8221; contribution
to the <a class="reference external" href="http://www.lino-framework.org/api/lino.core.html#module-lino.core" title="(in Lino v1.6)"><code class="xref py py-mod docutils literal"><span class="pre">lino.core</span></code></a>.</p>
<p>Out of curiosity I also installed
<a class="reference external" href="https://pypi.python.org/pypi/autopep8/">autopep8</a>
and had it run over <span class="xref std std-ref">atelier</span>, <span class="xref std std-ref">site</span> and <span class="xref std std-ref">north</span>
using:</p>
<div class="highlight-python"><div class="highlight"><pre>$ autopep8 -ir atelier
</pre></div>
</div>
<p>Works like a charm.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">About me</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><p align="center">
<a href="https://github.com/lsaffre" target="_blank">GitHub</a>
<br/><a href="http://www.lino-framework.org" target="_blank">Lino</a>
<br/><a href="http://www.saffre-rumma.net" target="_blank">Rumma & Ko</a>
</p>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="1126.html" title="20131126 (Tuesday, 26 November 2013)"
             >next</a> |</li>
        <li class="right" >
          <a href="1123.html" title="20131123 (Saturday, 23 November 2013)"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >2013</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">

<a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/2.5/88x31.png" /></a>
This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution-ShareAlike 2.5 Generic License</a>.<br />
      Last updated on 2015-03-31.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.
<a href="../../_sources/blog/2013/1125.txt">Show Source</a> 
    <a href="http://luc.lino-framework.org/blog/2013/1125.html">Online Link</a>
    </div>
  </body>
</html>