<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>20131210 (Tuesday, 10 December 2013) &mdash; Luc&#39;s website</title>
    
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/centeredlogo.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist_tags.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Luc&#39;s website"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Luc&#39;s website" href="../../index.html" />
    <link rel="up" title="2013" href="index.html" />
    <link rel="next" title="20131211 (Wednesday, 11 December 2013)" href="1211.html" />
    <link rel="prev" title="20131209 (Monday, 09 December 2013)" href="1209.html" />
   
<script src="../../.htmldata/lightbox/js/jquery-1.11.0.min.js"></script>
<script src="../../.htmldata/lightbox/js/lightbox.min.js"></script>
<link href="../../.htmldata/lightbox/css/lightbox.css" rel="stylesheet" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="1211.html" title="20131211 (Wednesday, 11 December 2013)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="1209.html" title="20131209 (Monday, 09 December 2013)"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">2013</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tuesday-10-december-2013">
<h1>20131210 (Tuesday, 10 December 2013)<a class="headerlink" href="#tuesday-10-december-2013" title="Permalink to this headline">¶</a></h1>
<p>The online demos found yet another bug:</p>
<ul class="simple">
<li><cite>AttrDict instance has no key &#8216;PanelEvents&#8217;</cite>
(AttributeError at /restful/cal/PanelEvents)</li>
</ul>
<div class="section" id="how-to-make-money-with-lino">
<h2>How to make money with Lino<a class="headerlink" href="#how-to-make-money-with-lino" title="Permalink to this headline">¶</a></h2>
<p>Thanks to Michael Hipp who discovered and helped me to fix
a <em>documentation bug</em>. He wrote:</p>
<blockquote>
<div><p>Lino says: &#8220;you may run your Lino application on an Internet server
and sell subscriptions to users of your system. You don’t need to
publish your source code in that case since you are not conveying
your work.&#8221;  <a class="reference external" href="http://www.lino-framework.org/about/license.html">http://www.lino-framework.org/about/license.html</a></p>
<p>ExtJS says: &#8220;“Conveyance” for a web application is triggered when a
user outside the legal entity that created the application uses the
application.&#8221;  <a class="reference external" href="http://www.sencha.com/legal/open-source-faq/">http://www.sencha.com/legal/open-source-faq/</a></p>
<p>These seem to be in conflict.</p>
</div></blockquote>
<p>And I think that he is right. I modified <a class="reference external" href="http://www.lino-framework.org/about/license.html">/about/license</a>
to remove this conflict.</p>
</div>
<div class="section" id="continued-on-faggio">
<h2>Continued on <a class="reference external" href="http://faggio.lino-framework.org/index.html#faggio" title="(in Lino Faggio Reference v0.0)"><span>Lino Faggio</span></a><a class="headerlink" href="#continued-on-faggio" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Ran <cite>autopep8</cite> over the code. Afterwards commit.</li>
<li>Added <cite>workflow_buttons</cite> to detail of <cite>courses.CourseDetail</cite></li>
<li>Defined default workflow transitions for <cite>courses.CourseStates</cite></li>
<li>clicking on the lookup button of a ForeignKey combobox was meant
to open the insert window. didn&#8217;t work because all fields were
disabled. Fixed. <code class="docutils literal"><span class="pre">Lino.show_fk_detail</span></code> must pass <code class="docutils literal"><span class="pre">record_id:</span> <span class="pre">-99999</span></code>.</li>
<li>New method <cite>courses.Enrolment.create_pupil_choice</cite>
to add automatic learning.</li>
<li>New function <code class="xref py py-func docutils literal"><span class="pre">parse_name</span></code>
to automatically uppercase the first letter of
a person&#8217;s first and last name.</li>
<li>The &#8220;Refresh&#8221; button in the toolbar of a modified form
didn&#8217;t behave as expected: it first saved current changes,
then refreshed. That&#8217;s what the Save button is expected to do.
The Refresh button now again asks whether to save the changes
in current form.</li>
<li>New table <cite>cal.SubscriptionsByCalendar</cite>.</li>
</ul>
<p>N.B.: When there are more than a certain number of columns, then the
menu used to hide or show them has special scroll markers to indicate
that not all items are visible. Hovering with the mouse over one of
them starts scrolling. <em>But</em> sometimes not until the end. If you
cannot find the column you want, then <em>click</em> on the scroll marker.</p>
<p>I had to write and test the following snippet before I found the above
trick!</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&#39;DJANGO_SETTINGS_MODULE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;lino_faggio.settings.test&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">lino.api.shell</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">print_function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ses</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">SITE</span><span class="o">.</span><span class="n">login</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ah</span> <span class="o">=</span> <span class="n">courses</span><span class="o">.</span><span class="n">EventsByCourse</span><span class="o">.</span><span class="n">get_handle</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;state&#39;</span> <span class="ow">in</span> <span class="n">ah</span><span class="o">.</span><span class="n">list_layout</span><span class="o">.</span><span class="n">hidden_elements</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;state&#39;</span> <span class="ow">in</span> <span class="p">[</span><span class="n">col</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">ah</span><span class="o">.</span><span class="n">list_layout</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;state&#39;</span> <span class="ow">in</span> <span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">courses</span><span class="o">.</span><span class="n">EventsByCourse</span><span class="o">.</span><span class="n">wildcard_data_elems</span><span class="p">()]</span>
<span class="go">True</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">About me</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><p align="center">
<a href="https://github.com/lsaffre" target="_blank">GitHub</a>
<br/><a href="http://www.lino-framework.org" target="_blank">Lino</a>
<br/><a href="http://www.saffre-rumma.net" target="_blank">Rumma & Ko</a>
</p>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="1211.html" title="20131211 (Wednesday, 11 December 2013)"
             >next</a> |</li>
        <li class="right" >
          <a href="1209.html" title="20131209 (Monday, 09 December 2013)"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >2013</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2001-2015 Luc Saffre.
      Last updated on 2015-03-31.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.
    <a href="https://raw.github.com/lsaffre/blog/master/docs/blog/2013/1210.rst"
           rel="nofollow">Show Source</a>.
    <a href="http://luc.lino-framework.org/blog/2013/1210.html">Online Link</a>
    </div>
  </body>
</html>