<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>20111207 &mdash; Luc&#39;s website</title>
    
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/centeredlogo.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist_tags.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Luc&#39;s website"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Luc&#39;s website" href="../../index.html" />
    <link rel="up" title="2011" href="index.html" />
    <link rel="next" title="20111208" href="1208.html" />
    <link rel="prev" title="20111206" href="1206.html" />
   
<script src="../../.htmldata/lightbox/js/jquery-1.11.0.min.js"></script>
<script src="../../.htmldata/lightbox/js/lightbox.min.js"></script>
<link href="../../.htmldata/lightbox/css/lightbox.css" rel="stylesheet" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="1208.html" title="20111208"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="1206.html" title="20111206"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">2011</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="id1">
<h1>20111207<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<div class="section" id="continued-on-calendar-panel">
<h2>Continued on Calendar Panel<a class="headerlink" href="#continued-on-calendar-panel" title="Permalink to this headline">¶</a></h2>
<p>(at 2 o&#8217;clock in the morning)
Before going on, I had the glorious idea of searching the forum...
very interesting:</p>
<ul class="simple">
<li>Maybe I can subclass Brian&#8217;s EventEditForm in the way
he imagined (<a class="reference external" href="http://ext.ensible.com/forum/viewtopic.php?f=2&amp;t=326">Custom Add/Edit Panel</a>)
if I agree to not have Lino&#8217;s usual flexibility when
designing a calendar event.</li>
<li>Or even better:
&#8220;Regarding replacing the default event window, you can handle the &#8220;eventclick&#8221; event and show your own editor form however you wish. The only trick is to return false from the eventclick handler so that the default edit action will not execute.&#8221;
(Brian Moeskau in <a class="reference external" href="http://ext.ensible.com/forum/viewtopic.php?f=2&amp;t=338">Custom Click Behavior</a>)</li>
</ul>
<p>Ha! After less than half an hour I had the thing integrated into Lino!
And it turns out that the whole re-architecturing of my <a class="reference external" href="http://www.lino-framework.org/ref/files.html#xfile-lino.js" title="(in Lino v1.6)"><code class="xref std std-xfile docutils literal"><span class="pre">lino.js</span></code></a>
wasn&#8217;t necessary since I can simply define my own handler for the eventclick event:</p>
<div class="highlight-python"><div class="highlight"><pre>Lino.on_eventclick = function(cp,rec,el) {
  Lino.cal.Events.detail(cp,{record_id:rec.data.ID});
  return false;
}
</pre></div>
</div>
</div>
<div class="section" id="nachtliche-gedanken">
<h2>Nächtliche Gedanken<a class="headerlink" href="#nachtliche-gedanken" title="Permalink to this headline">¶</a></h2>
<p>Also vor zwei Wochen (am 23.11.) habe ich begonnen,
das Ext.ensible.cal.CalendarPanel zu integrieren.
Seitdem war das mein Hauptanliegen in Lino,
über 45 Stunden habe ich daran gearbeitet.</p>
<p>Und das obwohl ich die ganze Zeit über wusste, dass
ich eigentlich theoretisch zuerst mal die Frage
<a class="reference external" href="https://github.com/lsaffre/lino/blob/master/docs/tickets/51">docs/tickets/51</a> klären sollte.</p>
<p>Aber ich hatte ja erstens keine Lust,
daran zu arbeiten, und zweitens warten die Benutzer in Eupen relativ
dringend auf eine Lösung für die Terminverwaltung.</p>
<p>Und jetzt stellt sich raus, dass ca. 40 der 45 Stunden eigentlich
gar nicht nötig waren, um das CalendarPanel ans Laufen zu kriegen.
Nicht dass sie für die Katz waren, aber sie waren eben &#8220;nur&#8221; eine
eine reine Investition in die Zukunft.</p>
<p>Man kann nicht sagen, dass mir diese 45 Stunden Spaß gemacht haben,
sondern das war im Gegenteil eher frustrierende Arbeit.
Javascript zu testen macht keinen Spaß,
und der von Lino generierte JS-Code war vorher wirklich schrecklich verworren.
Bin froh, dass ich damit jetzt hoffentlich wieder einige Zeit Ruhe habe.</p>
<p>Und noch was: auf die Lösung bin ich rein zufällig gestoßen,
weil ich dem Argo eine kurze Mail am schreiben war, in der ich
erklären wollte, auf welche Schwierigkeit ich da gestern abend gestoßen
war.
Diesen Argo habe ich ebenso zufällig vorige Woche
kennengelernt: am 01.12 bekam ich eine Werbung
von kirka.ee, wo ich als Arbeitgeber kostenlos eine Stellenanzeige
aufgeben konnte. Das habe ich einfach zum Spaß mal gemacht,
(<a class="reference external" href="http://www.kirka.ee/Python_Javascript_developer-Eesti/1-62829">http://www.kirka.ee/Python_Javascript_developer-Eesti/1-62829</a>)
und am Tag darauf meldete sich eben dieser Argo.
Für uns beide war von vorneherein klar, dass er
(wenn überhaupt)
eher unabhängiger Partner als Angestellter wird.</p>
<p>Das Erlebnis ist zudem ein anschauliches Beispiel von
&#8220;Warum einfach, wenn es auch kompliziert geht&#8221;.
Typisch für mich.
Eigentlich müsste ich mich ärgern über die theoretisch falsch investierte
Arbeitszeit (weil ich die Lösung nicht direkt gesehen habe).
Aber ich spüre keine Anzeichen von Ärger.
Das wiederum bedeutet entweder engstirnige Blindheit
für die eigenen Schwächen, oder ein ausgeprägtes Selbstvertrauen.</p>
<p>Wenn ich dieses ganze komplexe Erlebnis mal wie einen Traum deute,
dann lautet meine Schlussfolgerung:
das war ein weiterer Wink Gottes, dass ich
die Frage <a class="reference external" href="https://github.com/lsaffre/lino/blob/master/docs/tickets/51">docs/tickets/51</a> getrost abschließen und mit voller Energie
an Lino weiter machen soll!</p>
</div>
<div class="section" id="predefined-custom-filters">
<h2>Predefined Custom Filters<a class="headerlink" href="#predefined-custom-filters" title="Permalink to this headline">¶</a></h2>
<p>Mir schwant eine neue Idee.
Pro Report eine Liste von &#8220;häufig benutzten Filtern&#8221;,
die der Benutzer durch einfaches Anklicken
in der oberen toolbar einer Liste aktivieren kann.
Die Liste muss applikationsspezifisch definiert und
lokal sowohl erweiterbar als auch überschreibbar sein.</p>
<p>Ungefähr wie folgt:</p>
<div class="highlight-python"><div class="highlight"><pre>contacts.Persons.setup_quick_filters(self):
    add = self.add_quick_filter
    add(&#39;&#39;,_(&quot;All&quot;))
    add(&#39;my&#39;,_(&quot;my clients&quot;),handler=my_coached_persons),
    add(&#39;alicia&#39;,u&quot;Alicias Leute&quot;),filter=dict(user=alicia)),
    add(&#39;aged25&#39;,_(&quot;Aged &lt; 25&quot;),
      additive=True,filter=dict(birth_date__gte=dtos(today-25*365)))
</pre></div>
</div>
<p>Der erste Parameter ist ein identifizierender Name. Der wird im URL benutzt.</p>
<p><code class="docutils literal"><span class="pre">URL_PARAM_CUSTOM_FILTER</span> <span class="pre">=</span> <span class="pre">'cf'</span></code></p>
<p>&amp;cf=my,aged25 &#8211;&gt; &#8220;Meine Leute unter 25 Jahre&#8221;</p>
<p>Es gibt Filterfragmente, die am Anfang einer Serie stehen müssen
(&#8216;all&#8217;, &#8216;my&#8217; und &#8216;alicia&#8217; im obigen Beispiel) und solche, die
sich einem vorherigen Filter dranhängen können.
Letztere sind entweder &#8220;einschränkend&#8221; (=&#8221;restriktiv&#8221; =werden mit AND drangehängt)
oder &#8220;erweiternd&#8221; (werden mit OR drangehängt)
und
also kombinierbar sind.</p>
<p>In JS muss ich dann eine intuitive Möglichkeit finden,
wie der Benutzer diese Filter auswählen und kombinieren kann.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">About me</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><p align="center">
<a href="https://github.com/lsaffre" target="_blank">GitHub</a>
<br/><a href="http://www.lino-framework.org" target="_blank">Lino</a>
<br/><a href="http://www.saffre-rumma.net" target="_blank">Rumma & Ko</a>
</p>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="1208.html" title="20111208"
             >next</a> |</li>
        <li class="right" >
          <a href="1206.html" title="20111206"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >2011</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2001-2015 Luc Saffre.
      Last updated on 2015-03-31.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.
    <a href="https://raw.github.com/lsaffre/blog/master/docs/blog/2011/1207.rst"
           rel="nofollow">Show Source</a>.
    <a href="http://luc.lino-framework.org/blog/2011/1207.html">Online Link</a>
    </div>
  </body>
</html>