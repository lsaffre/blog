<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>20110228 &mdash; Luc&#39;s website</title>
    
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/centeredlogo.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist_tags.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Luc&#39;s website"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Luc&#39;s website" href="../../index.html" />
    <link rel="up" title="2011" href="index.html" />
    <link rel="next" title="20110301" href="0301.html" />
    <link rel="prev" title="20110226" href="0226.html" />
   
<script src="../../.htmldata/lightbox/js/jquery-1.11.0.min.js"></script>
<script src="../../.htmldata/lightbox/js/lightbox.min.js"></script>
<link href="../../.htmldata/lightbox/css/lightbox.css" rel="stylesheet" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="0301.html" title="20110301"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="0226.html" title="20110226"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">2011</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="id1">
<h1>20110228<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<div class="section" id="lino-utils-choiceslists">
<h2><code class="xref py py-mod docutils literal"><span class="pre">lino.utils.choiceslists</span></code><a class="headerlink" href="#lino-utils-choiceslists" title="Permalink to this headline">¶</a></h2>
<p>Bevor ich iGen mehrsprachiger mache, hatte ich noch ein paar
Eingebungen bzgl. der choicelists.</p>
<p>Das Modul heißt jetzt nicht mehr
<code class="xref py py-mod docutils literal"><span class="pre">lino.modlib.properties.utils</span></code>,
sondern <code class="xref py py-mod docutils literal"><span class="pre">lino.utils.choiceslists</span></code> und könnte
(zusammen mit <code class="xref py py-mod docutils literal"><span class="pre">lino.utils.babel</span></code>)
auf für Django-Anwendungen ohne Lino nützlich sein.
Vorher müsste ich es freilich dokumentieren...
Carl Meyer hatte, glaube ich, etwas ähnliches gemacht,
und das Feature, dass man einem Auswahlwert zusätzlich auch noch mit dem Parameter <cite>ref</cite>
als Attribut abrufbar machen kann, habe ich von ihm bekommen.
Sein Modul kam aber für uns nicht in Frage, weil es nicht mehrsprachig war.</p>
</div>
<div class="section" id="testen-von-django-anwendungen">
<h2>Testen von Django-Anwendungen<a class="headerlink" href="#testen-von-django-anwendungen" title="Permalink to this headline">¶</a></h2>
<p>Nach den obigen Änderungen war da ein kleiner Bug,
der vielleicht auch schon vorher drin war: wenn man den Wert einer Softskill bearbeitete,
(also einem Datentyp, der auf einer ChoicesList beruht), wurde anschließend nicht der Text,
sondern der rohe Wert angezeigt.</p>
<p>Statt den Bug nun einfach so zu beheben, habe ich mal begonnen, seriöse Tests zu schreiben.
Es stimmt, was ich vor Kurzem irgendwo las:
&#8220;use unit tests for writing tests, and doctest for writing docs&#8221;.
Unit Tests zu schreiben, nimmt viel Zeit (aber lohnt sich).
Doctests zu schreiben, nicht <em>noch mehr</em> Zeit (und lohnt sich momentan noch nicht).</p>
<p>Also drei neue Tests, die ab sofort
nach einem Upgrade laufengelassen werden sollten
(mit <strong class="command">python manage.py test dsbe</strong> )</p>
<ul class="simple">
<li><code class="xref py py-func docutils literal"><span class="pre">lino.modlib.dsbe.tests.test01()</span></code></li>
<li><code class="xref py py-func docutils literal"><span class="pre">lino.modlib.dsbe.tests.test02()</span></code></li>
<li><code class="xref py py-func docutils literal"><span class="pre">lino.modlib.dsbe.tests.test03()</span></code></li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">About me</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><p align="center">
<a href="https://github.com/lsaffre" target="_blank">GitHub</a>
<br/><a href="http://www.lino-framework.org" target="_blank">Lino</a>
<br/><a href="http://www.saffre-rumma.net" target="_blank">Rumma & Ko</a>
</p>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="0301.html" title="20110301"
             >next</a> |</li>
        <li class="right" >
          <a href="0226.html" title="20110226"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >2011</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">

<a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/2.5/88x31.png" /></a>
This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution-ShareAlike 2.5 Generic License</a>.<br />
      Last updated on 2015-03-31.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.
<a href="../../_sources/blog/2011/0228.txt">Show Source</a> 
    <a href="http://luc.lino-framework.org/blog/2011/0228.html">Online Link</a>
    </div>
  </body>
</html>