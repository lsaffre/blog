<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>20120218 &mdash; Luc&#39;s website</title>
    
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/centeredlogo.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist_tags.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Luc&#39;s website"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Luc&#39;s website" href="../../index.html" />
    <link rel="up" title="2012" href="index.html" />
    <link rel="next" title="20120220" href="0220.html" />
    <link rel="prev" title="20120217" href="0217.html" />
   
<script src="../../.htmldata/lightbox/js/jquery-1.11.0.min.js"></script>
<script src="../../.htmldata/lightbox/js/lightbox.min.js"></script>
<link href="../../.htmldata/lightbox/css/lightbox.css" rel="stylesheet" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="0220.html" title="20120220"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="0217.html" title="20120217"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">2012</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="id1">
<h1>20120218<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p>Aufräumen nach der großen Operation: Test-Suite wieder ans Laufen kriegen.</p>
<p>Wenn GridPanel.on_afteredit einen Traceback auf dem Server verursachte,
dann bekam der Benutzer keine Fehlermeldung,
sondern seine Grid blieb im Zustand &#8220;Bitte warten...&#8221; stecken.
Jetzt macht Lino dann eine komplette Meldung.
Mal sehen, sie die Benutzer darauf reagieren,
wenn sie so einen kompletten Traceback am Bildschirm sehen:</p>
<a class="reference internal image-reference" href="../../_images/0218.jpg"><img alt="../../_images/0218.jpg" src="../../_images/0218.jpg" style="width: 549.6px; height: 399.0px;" /></a>
<p>Das ParameterPanel wurde noch nicht angezeigt.</p>
<p>Problem mit der Interaktion von getRowClass und editable.
ContractsSearch, Persons usw. zeigten eine
Null in allen numerischen Kolonnen der Phantomzeile.
Hatten getRowClass in der viewConfig nicht gesetzt.
Lag daran, dass der Code in js_render_GridPanel_class()
ungefähr das Gleiche macht wie ext_elems.GridPanel.</p>
<p>Man konnte den Kursanbieter eines Kursangebotes nicht eingeben;
die Auswahlliste blieb leer, weil der Server dann ein traceback machte:</p>
<div class="highlight-python"><div class="highlight"><pre>AttributeError &#39;TableRequest&#39; object has no attribute &#39;queryset&#39;&quot;
TRACEBACK:
File &quot;l:\snapshots\django\django\core\handlers\base.py&quot;, line 111, in get_response
  response = callback(request, *callback_args, **callback_kwargs)
File &quot;t:\hgwork\lino\lino\ui\extjs3\ext_ui.py&quot;, line 2030, in choices_view
  qs = chooser.get_request_choices(request,rpt)
File &quot;t:\hgwork\lino\lino\utils\choosers.py&quot;, line 165, in get_request_choices
  return self.get_choices(**kw)
File &quot;t:\hgwork\lino\lino\utils\choosers.py&quot;, line 124, in get_choices
  return self.meth(*args)
File &quot;t:\hgwork\lino\lino\utils\choosers.py&quot;, line 222, in wrapped
  return fn(*args)
File &quot;t:\hgwork\lino\lino\apps\pcsw\models.py&quot;, line 1807, in provider_choices
  return CourseProviders.request().queryset
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">About me</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><p align="center">
<a href="https://github.com/lsaffre" target="_blank">GitHub</a>
<br/><a href="http://www.lino-framework.org" target="_blank">Lino</a>
<br/><a href="http://www.saffre-rumma.net" target="_blank">Rumma & Ko</a>
</p>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="0220.html" title="20120220"
             >next</a> |</li>
        <li class="right" >
          <a href="0217.html" title="20120217"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >2012</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2001-2015 Luc Saffre.
      Last updated on 2015-03-31.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.
    <a href="https://raw.github.com/lsaffre/blog/master/docs/blog/2012/0218.rst"
           rel="nofollow">Show Source</a>.
    <a href="http://luc.lino-framework.org/blog/2012/0218.html">Online Link</a>
    </div>
  </body>
</html>