<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>20121109 &mdash; Luc&#39;s website</title>
    
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/centeredlogo.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist_tags.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Luc&#39;s website"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Luc&#39;s website" href="../../index.html" />
    <link rel="up" title="2012" href="index.html" />
    <link rel="next" title="20121110" href="1110.html" />
    <link rel="prev" title="20121108" href="1108.html" />
   
<script src="../../.htmldata/lightbox/js/jquery-1.11.0.min.js"></script>
<script src="../../.htmldata/lightbox/js/lightbox.min.js"></script>
<link href="../../.htmldata/lightbox/css/lightbox.css" rel="stylesheet" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="1110.html" title="20121110"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="1108.html" title="20121108"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">2012</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="id1">
<h1>20121109<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<div class="section" id="neue-tabelle-source-files">
<h2>Neue Tabelle &#8220;Source files&#8221;<a class="headerlink" href="#neue-tabelle-source-files" title="Permalink to this headline">¶</a></h2>
<p>Es gibt jetzt einen neuen Befehl <span class="menuselection">Site ‣ Source files</span>.
Noch nicht sehr fertig, aber man kann sie sich schon in eine .csv-Datei
exportieren und dort Summen machen.
Ersten Untersuchungen zufolge bestünde
Lino-Welfare dann aus 14205 Zeilen Code und 12754 Zeilen docstrings.
Aber ich habe keine Ahnung, ob das stimmt.</p>
<p>Diesen und die Befehle &#8220;Info&#8221; (<cite>about.About</cite>) und &#8220;Inspector&#8221;
habe ich in ein
eigenes Modul <a class="reference external" href="http://www.lino-framework.org/api/lino.modlib.about.html#module-lino.modlib.about" title="(in Lino v1.6)"><code class="xref py py-mod docutils literal"><span class="pre">lino.modlib.about</span></code></a> ausgelagert.</p>
</div>
<div class="section" id="ein-fieser-bug">
<h2>Ein fieser Bug<a class="headerlink" href="#ein-fieser-bug" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Ein Bug, der ausgerechnet heute Morgen kurz vor einer hausinternen
Vorstellung auftreten musste:
in Grids auf Tabellen ohne Detail-Fenster konnte man nichts einfügen.
Aber bon. Behoben.</li>
</ul>
</div>
<div class="section" id="zwei-kleine-bugs">
<h2>Zwei kleine Bugs<a class="headerlink" href="#zwei-kleine-bugs" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Bei allen Windowsfenstern ist das Kreuzchen zum Schließen das <em>letzte</em>
Icon oben rechts, und <em>davor</em> das Maximieren. Bei Lino war es genau
umgekehrt. Jetzt nicht mehr.</p>
</li>
<li><p class="first">Und noch ein schöner Fehler, der wahrscheinlich schon was länger
drin war: Wenn man von irgendwo auf den ForeignKey eines Klienten
klickt, dann öffnet sich das Detail-Fenster:</p>
<div class="highlight-python"><div class="highlight"><pre>javascript:Lino.pcsw.Clients.detail.run(null,{ &quot;record_id&quot;: 20976 })
</pre></div>
</div>
<p>Wenn besagter Klient jetzt jedoch veraltet ist, dann hatte Lino
ein Problem: die Liste <cite>Lino.pcsw.Clients</cite>
(<a class="reference external" href="http://welfare.lino-framework.org/api/lino_welfare.modlib.pcsw.models.html#lino_welfare.modlib.pcsw.models.Clients" title="(in Lino Welfare Reference Manual v1.1)"><code class="xref py py-class docutils literal"><span class="pre">lino_welfare.modlib.pcsw.models.Clients</span></code></a>) hat par défaut veraltete
Klienten rausgefiltert. Dadurch stand <cite>navinfo.recno</cite> auf 0, und Lino
meinte es dann gut (bzw. <cite>Lino.FormPanel.load_record_id</cite> glaubte sich
schlauer als der Rest) und sprang dann auf den ersten Record der Liste.
Diese Logik ist nicht allgemein sinnvoll, sondern nur wenn man einen Record
im Detail-Fenster gelöscht hat. Das passiert ja auch in
<cite>Lino.FormPanel.after_delete</cite>.</p>
</li>
</ul>
</div>
<div class="section" id="manuelle-testsuiten">
<h2>Manuelle Testsuiten<a class="headerlink" href="#manuelle-testsuiten" title="Permalink to this headline">¶</a></h2>
<p>Der fiese Bug heute Morgen trat ja ausgerechnet kurz
vor einer hausinternen Vorstellung aus.
Also mehrere Leute hatten sich den Zeitpunkt reserviert.</p>
<p>&#8220;Oh Mann, wer macht denn auch ein Release in der Nacht vor so was&#8221;
kann ich mir sagen.
Ja, ich war mal wieder zu optimistisch gewesen.
Um uns vor meinem naiven Optimismus des Programmierers
zu schützen, können wir vor wichtigen Terminen
einen Release-Stopp machen.</p>
<p>Andererseits dürfen wir nicht vergessen:
Wer nicht wagt, der nicht gewinnt.
Ein Release-Stopp bedeutet auch eine strenge Verwaltung
des Release-Prozesses mit allem Pipapo,
noch strenger als momentan (z.B. müsste ich für jedes Release
eigentlich einen Branch eröffnen),
sprich: ein Mehr an &#8220;administrativem&#8221; Aufwand.</p>
<p>Das ist eines der großen Geheimnisse, die Lino so kostengünstig und flexibel machen:
ärgerliche Überraschungen wie heute Morgen <strong>sind relativ selten</strong>.
Wir können damit leben.
Wir sind nicht auf einem Flughafen,
wo so ein Bug Menschenleben bedeuten kann.</p>
<p>Aber es stellt sich natürlich auch mal wieder die Frage,
wie ich die Testphase vor einem Release verbessern kann.</p>
<p>Eine Lektion, die daraus zu holen ist: da sieht man mal wieder,
wie wichtig eine automatisierte und komplette Testsuite ist.
Das wusste ich aber eigentlich schon vorher.
Dass die Testsuite momentan nicht benutzbar ist, liegt einfach an Prioritäten.
Auch nach heute Morgen habe ich noch das Gefühl: keine Panik.
Noch dringeneder als eine gute Testsuite sind diverse sichtbare Resultate.</p>
<p>Noch was. Automatisieren ist schön und gut, aber
einen echten &#8220;Test mit Menschenverstand&#8221;
muss es ja so oder so auch immer geben.</p>
<p>Dieses manuelle Testen vor einem Release ist eine Arbeit,
die zumindest für mich, den Programmierer des Ganzen,
besonders stumpfsinnig erscheint.
In Wirklichkeit ist Testen natürlich sogar eine Kunst.
Aber eben keine, die der Entwickler auf seinem eigenen Produkt betreibt.</p>
<p>Das ist der Daseinsgrund für die Seite
<a class="reference external" href="http://welfare.lino-framework.org/en/admin/testlauf.html">Manueller Testlauf</a>,
die ich heute aus gegebenem Anlass auch mal ein bisschen aktualisiert habe.
Das Dokument soll aber nur ein Anreiz sein.
Eigentlich sollte bei jedem meiner Kunden ein Verantwortlicher
diese Aufgabe übernehmen.
Eine Person, die die Verantwortung übernimmt,
vor einem Release (nach terminlicher Abstimmung mit mir)
in der <cite>testlino</cite>
eine von ihr selbst dokumentierte Serie von
&#8220;Mindestfunktionen&#8221; zu prüfen.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">About me</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><p align="center">
<a href="https://github.com/lsaffre" target="_blank">GitHub</a>
<br/><a href="http://www.lino-framework.org" target="_blank">Lino</a>
<br/><a href="http://www.saffre-rumma.net" target="_blank">Rumma & Ko</a>
</p>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="1110.html" title="20121110"
             >next</a> |</li>
        <li class="right" >
          <a href="1108.html" title="20121108"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >2012</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2001-2015 Luc Saffre.
      Last updated on 2015-03-31.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.
    <a href="https://raw.github.com/lsaffre/blog/master/docs/blog/2012/1109.rst"
           rel="nofollow">Show Source</a>.
    <a href="http://luc.lino-framework.org/blog/2012/1109.html">Online Link</a>
    </div>
  </body>
</html>