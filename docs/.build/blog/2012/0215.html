<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>20120215 &mdash; Luc&#39;s website</title>
    
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/centeredlogo.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist_tags.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Luc&#39;s website"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Luc&#39;s website" href="../../index.html" />
    <link rel="up" title="2012" href="index.html" />
    <link rel="next" title="20120217" href="0217.html" />
    <link rel="prev" title="20120214" href="0214.html" />
   
<script src="../../.htmldata/lightbox/js/jquery-1.11.0.min.js"></script>
<script src="../../.htmldata/lightbox/js/lightbox.min.js"></script>
<link href="../../.htmldata/lightbox/css/lightbox.css" rel="stylesheet" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="0217.html" title="20120217"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="0214.html" title="20120214"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">2012</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="id1">
<h1>20120215<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<div class="section" id="publishing-lino-to-pypi">
<h2>Publishing Lino to PyPI<a class="headerlink" href="#publishing-lino-to-pypi" title="Permalink to this headline">¶</a></h2>
<p>Nachdem ich nochmal das Kapitel
<a class="reference external" href="http://diveintopython3.ep.io/packaging.html">Packaging Python Libraries</a>
von Marc Pilgrim gelesen habe,
habe ich die <a class="reference external" href="http://www.lino-framework.org/releases/1.3.9.html">/releases/1.3.9</a>
mal auf <a class="reference external" href="http://pypi.python.org/pypi/lino">http://pypi.python.org/pypi/lino</a>
veröffentlicht mit <code class="docutils literal"><span class="pre">register</span></code>.
<code class="docutils literal"><span class="pre">upload</span></code> musste ich übers Web-Interface machen,
weil mein source code ja inzwischen schon weiter
ist.</p>
<p>Für das zentrale Speichern der Versionsnummer sehe ich noch nicht klar.
Meine setup.py macht ein <code class="docutils literal"><span class="pre">import</span> <span class="pre">lino</span></code> um sie rauszufinden.
Das funktioniert auch, solange ich setup.py <em>für mich</em> den Entwickler
benutze.
Aber ein <code class="docutils literal"><span class="pre">setup.py</span> <span class="pre">install</span></code> würde natürlich nicht funktionieren.
Ist mir momentan auch noch egal.</p>
</div>
<div class="section" id="dtl2py">
<h2>dtl2py<a class="headerlink" href="#dtl2py" title="Permalink to this headline">¶</a></h2>
<p>New management command dtl2py to create dummy .py files
from .dtl files and linolib.js.
These dummy py files are necessary for makemessages
so that it can find translatable strings from these files.</p>
</div>
<div class="section" id="dtl-files-replaced-by-py-files">
<h2>.dtl files replaced by .py files<a class="headerlink" href="#dtl-files-replaced-by-py-files" title="Permalink to this headline">¶</a></h2>
<p>Hier die bisherige Definition des ersten Reiters einer Person:</p>
<div class="highlight-python"><div class="highlight"><pre>box1 =
  :label: Address
  last_name first_name:15 title:10
  country city zip_code:10
  street_prefix street:25 street_no street_box
  addr2:40

box2 =
  :label: Contact
  id:12 language
  email
  phone fax
  gsm

box3 =
  :label: Birth
  gender birth_date age:10 civil_state noble_condition
  birth_country birth_place nationality:15 national_id:15
  # national_id:15 card_number:15 card_valid_from:15 card_valid_until:10 card_issuer card_type_text

eid_panel =
  :label: eID card
  :card_number.label: number
  :card_valid_from.label: valid from
  :card_valid_until.label: until
  :card_issuer.label: issued by
  :card_type.label: eID card type
  card_number card_valid_from card_valid_until card_issuer card_type:20

box4 =
  box3
  eid_panel

main =
  :label: Person
  :label_align: top
  :hideCheckBoxLabels:
  box1 box2
  box4 image:15 #overview
</pre></div>
</div>
<p>Und so ungefähr könnte es stattdessen aussehen:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">dd</span><span class="o">.</span><span class="n">FormLayout</span><span class="p">):</span>
    <span class="n">box1</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot;</span>
<span class="s">    last_name first_name:15 title:10</span>
<span class="s">    country city zip_code:10</span>
<span class="s">    street_prefix street:25 street_no street_box</span>
<span class="s">    addr2:40</span>
<span class="s">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">box1</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s">&quot;Address&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">define_panel</span><span class="p">(</span><span class="s">&quot;box1&quot;</span><span class="p">,</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">        last_name first_name:15 title:10</span>
<span class="s">        country city zip_code:10</span>
<span class="s">        street_prefix street:25 street_no street_box</span>
<span class="s">        addr2:40</span>
<span class="s">        &quot;&quot;&quot;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s">&quot;Address&quot;</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">define_panel</span><span class="p">(</span><span class="s">&quot;box2&quot;</span><span class="p">,</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">        id:12 language</span>
<span class="s">        email</span>
<span class="s">        phone fax</span>
<span class="s">        gsm</span>
<span class="s">        &quot;&quot;&quot;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s">&quot;Contact&quot;</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">define_panel</span><span class="p">(</span><span class="s">&quot;box3&quot;</span><span class="p">,</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">        gender birth_date age:10 civil_state noble_condition</span>
<span class="s">        birth_country birth_place nationality:15 national_id:15</span>
<span class="s">        &quot;&quot;&quot;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s">&quot;Birth&quot;</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">define_panel</span><span class="p">(</span><span class="s">&quot;eid_panel&quot;</span><span class="p">,</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">        card_number card_valid_from card_valid_until card_issuer card_type:20</span>
<span class="s">        &quot;&quot;&quot;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s">&quot;eID card&quot;</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">eid_panel</span><span class="o">.</span><span class="n">card_number</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s">&quot;number&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">eid_panel</span><span class="o">.</span><span class="n">card_valid_from</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s">&quot;valid from&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">eid_panel</span><span class="o">.</span><span class="n">card_valid_until</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s">&quot;valid until&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">eid_panel</span><span class="o">.</span><span class="n">card_issuer</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s">&quot;issued by&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">eid_panel</span><span class="o">.</span><span class="n">card_type</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s">&quot;eID card type&quot;</span><span class="p">)</span>


        <span class="bp">self</span><span class="o">.</span><span class="n">define_panel</span><span class="p">(</span><span class="s">&quot;box4&quot;</span><span class="p">,</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">        box3</span>
<span class="s">        eid_panel</span>
<span class="s">        &quot;&quot;&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">define_panel</span><span class="p">(</span><span class="s">&quot;main&quot;</span><span class="p">,</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">        box1 box2</span>
<span class="s">        box4 image:15 #overview</span>
<span class="s">        &quot;&quot;&quot;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s">&quot;Person&quot;</span><span class="p">),</span><span class="n">hideCheckBoxLabels</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">label_align</span><span class="o">=</span><span class="s">&quot;top&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>To be continued...</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">About me</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><p align="center">
<a href="https://github.com/lsaffre" target="_blank">GitHub</a>
<br/><a href="http://www.lino-framework.org" target="_blank">Lino</a>
<br/><a href="http://www.saffre-rumma.net" target="_blank">Rumma & Ko</a>
</p>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="0217.html" title="20120217"
             >next</a> |</li>
        <li class="right" >
          <a href="0214.html" title="20120214"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >2012</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">

<a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/2.5/88x31.png" /></a>
This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution-ShareAlike 2.5 Generic License</a>.<br />
      Last updated on 2015-03-31.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.
<a href="../../_sources/blog/2012/0215.txt">Show Source</a> 
    <a href="http://luc.lino-framework.org/blog/2012/0215.html">Online Link</a>
    </div>
  </body>
</html>