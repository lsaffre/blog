<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>20120711 &mdash; Luc&#39;s website</title>
    
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/centeredlogo.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist_tags.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Luc&#39;s website"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Luc&#39;s website" href="../../index.html" />
    <link rel="up" title="2012" href="index.html" />
    <link rel="next" title="20120712" href="0712.html" />
    <link rel="prev" title="20120710" href="0710.html" />
   
<script src="../../.htmldata/lightbox/js/jquery-1.11.0.min.js"></script>
<script src="../../.htmldata/lightbox/js/lightbox.min.js"></script>
<link href="../../.htmldata/lightbox/css/lightbox.css" rel="stylesheet" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="0712.html" title="20120712"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="0710.html" title="20120710"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">2012</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="id1">
<h1>20120711<a class="headerlink" href="#id1" title="Permalink to this headline">Â¶</a></h1>
<p>Yet another series of aweful new features for the <a class="reference external" href="http://www.lino-framework.org/api/lino.modlib.cal.html#module-lino.modlib.cal" title="(in Lino v1.6)"><code class="xref py py-mod docutils literal"><span class="pre">lino.modlib.cal</span></code></a> module.
It&#8217;s all about managing team meetings.</p>
<ul>
<li><p class="first">Added new model
<code class="xref py py-class docutils literal"><span class="pre">Membership</span></code>:
each user defines his own &#8220;team&#8221;, of which he is the leader,
and for which he can select other users to be members.
The only effect of this strange kind of team is to tell
Lino which other users&#8217;s events should be shown when using the
new <cite>Team View</cite> button of the CalendarPanel.</p>
</li>
<li><p class="first">Added new field <cite>invite_team_members</cite> to the
<code class="xref py py-class docutils literal"><span class="pre">Calendar</span></code> model.
Events in this calendar (if they are public and scheduled)
will automatically get the guests list filled with the owner&#8217;s team members.</p>
</li>
<li><p class="first"><a class="reference external" href="http://www.lino-framework.org/api/lino.modlib.cal.models.html#lino.modlib.cal.models.customize_users" title="(in Lino v1.6)"><code class="xref py py-func docutils literal"><span class="pre">lino.modlib.cal.models.customize_users()</span></code></a>
now adds the new fields &#8220;Default access class&#8221; and &#8220;Default calendar&#8221;
to <a class="reference external" href="http://www.lino-framework.org/api/lino.modlib.users.models.html#lino.modlib.users.models.User" title="(in Lino v1.6)"><code class="xref py py-class docutils literal"><span class="pre">lino.modlib.users.models.User</span></code></a>.</p>
</li>
<li><p class="first">The Calendar tab of the User Detail
is now more complex (and it is enjoyable to see how easy this job is done
in  <code class="xref py py-func docutils literal"><span class="pre">site_setup</span></code>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">site</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">users</span><span class="o">.</span><span class="n">Users</span><span class="o">.</span><span class="n">add_detail_tab</span><span class="p">(</span><span class="s">&#39;cal&#39;</span><span class="p">,</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">cal_left:30 cal.RemindersByUser:60</span>
<span class="s">&quot;&quot;&quot;</span><span class="p">,</span><span class="n">MODULE_LABEL</span><span class="p">,</span><span class="n">required</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">user_groups</span><span class="o">=</span><span class="s">&#39;office&#39;</span><span class="p">))</span>

<span class="n">site</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">users</span><span class="o">.</span><span class="n">Users</span><span class="o">.</span><span class="n">add_detail_panel</span><span class="p">(</span><span class="s">&#39;cal_left&#39;</span><span class="p">,</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">access_class</span>
<span class="s">cal.SubscriptionsByUser</span>
<span class="s">cal.MembershipsByUser</span>
<span class="s">&quot;&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This also revealed a new layout rendering bug. That panel is
currently rendered correctly only when not in background
(i.e. after clicking the permalink button).</p>
</li>
<li><p class="first">Documented
<a class="reference external" href="http://www.lino-framework.org/api/lino.core.actors.html#lino.core.actors.Actor.add_detail_panel" title="(in Lino v1.6)"><code class="xref py py-meth docutils literal"><span class="pre">add_detail_panel</span></code></a>
and <a class="reference external" href="http://www.lino-framework.org/api/lino.core.actors.html#lino.core.actors.Actor.add_detail_tab" title="(in Lino v1.6)"><code class="xref py py-meth docutils literal"><span class="pre">add_detail_tab</span></code></a>.
New documentation page <a class="reference external" href="http://www.lino-framework.org/topics/layouts.html">/topics/layouts</a>.</p>
</li>
<li><p class="first">New fixture <code class="xref py py-mod docutils literal"><span class="pre">demo_events</span></code>
which generates a more or less useful suite of demo events.
(In fact this needs still some more tuning, but we&#8217;re on our way.)</p>
</li>
</ul>
<p>TODO:</p>
<ul class="simple">
<li>Didn&#8217;t yet manage to show ni PanelEvents also the events to which I am invited.</li>
<li>Aforementioned layout bug</li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">About me</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><p align="center">
<a href="https://github.com/lsaffre" target="_blank">GitHub</a>
<br/><a href="http://www.lino-framework.org" target="_blank">Lino</a>
<br/><a href="http://www.saffre-rumma.net" target="_blank">Rumma & Ko</a>
</p>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="0712.html" title="20120712"
             >next</a> |</li>
        <li class="right" >
          <a href="0710.html" title="20120710"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >2012</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">

<a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/2.5/88x31.png" /></a>
This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution-ShareAlike 2.5 Generic License</a>.<br />
      Last updated on 2015-03-31.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.
<a href="../../_sources/blog/2012/0711.txt">Show Source</a> 
    <a href="http://luc.lino-framework.org/blog/2012/0711.html">Online Link</a>
    </div>
  </body>
</html>