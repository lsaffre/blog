<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>20120223 &mdash; Luc&#39;s website</title>
    
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/centeredlogo.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist_tags.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Luc&#39;s website"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Luc&#39;s website" href="../../index.html" />
    <link rel="up" title="2012" href="index.html" />
    <link rel="next" title="20120224" href="0224.html" />
    <link rel="prev" title="20120222" href="0222.html" />
   
<script src="../../.htmldata/lightbox/js/jquery-1.11.0.min.js"></script>
<script src="../../.htmldata/lightbox/js/lightbox.min.js"></script>
<link href="../../.htmldata/lightbox/css/lightbox.css" rel="stylesheet" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="0224.html" title="20120224"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="0222.html" title="20120222"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">2012</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="id1">
<h1>20120223<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p>Restarted work on BCSS connection:</p>
<ul>
<li><p class="first"><code class="xref py py-class docutils literal"><span class="pre">lino.modlib.bcss.models.IdentifyPersonRequest</span></code> now inherits
from <code class="xref py py-class docutils literal"><span class="pre">lino.modlib.contacts.models.PersonMixin</span></code> and stores these
fields on its own. Because otherwise it made no sense.</p>
</li>
<li><p class="first">Discovered and fixed a fundamental design bug in <a class="reference external" href="http://www.lino-framework.org/api/lino.utils.xmlgen.html#module-lino.utils.xmlgen" title="(in Lino v1.6)"><code class="xref py py-mod docutils literal"><span class="pre">lino.utils.xmlgen</span></code></a>.
It starts now to become possible for a human to &#8220;translate&#8221; an XSD into
a set of xmlgen Python classes.</p>
<p>Adapted <code class="xref py py-mod docutils literal"><span class="pre">lino.utils.xmlgen.bcss</span></code> to these changes.</p>
</li>
</ul>
<p>Also beim Wiedereinlesen in die XSD-Dateien und Strukturen der BCSS-Requests
ist mir ein fundamentaler Denkfehler in meinem xmlgen-Modul aufgefallen,
den ich natürlich sogleich beheben musste.</p>
<p>Mindestens zwei Stunden habe ich dabei verbraten wegen eines Nebeneffekts,
der durch doctest verursacht war.  Ich hatte im docstring geschrieben:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">lino.utils.xmlgen</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
<p>Das war vielleicht eine subtile Mausefalle! Weil ich in meinem <cite>__all__</cite> am Ende
der <cite>xmlgen.py</cite> (natürlich) einige Namen vergessen hatte. gab es zwei quasi
identische Klassen <cite>Node</cite>: die aus dem Modul und die aus dem Docstring.
Und <cite>isinstance(x,Node)</cite> gab logischerweise False zurück, wenn ich einen Node
mit der &#8220;falschen&#8221; Klasse machte.</p>
<p>Und ich weiß ja noch immer nicht, ob ich mit meinem xmlgen nicht das Rad
am neuerfinden bin... Also wer diesen Blogeintrag liest und sich für das Thema
interessiert, der möge doch bitte mal in die Dokumentation
der folgenden Module schauen und mich schonend aufklären,
falls er dabei einen Eindruck von <em>déjà-vu</em> hat:</p>
<ul class="simple">
<li><a class="reference external" href="http://www.lino-framework.org/api/lino.utils.xmlgen.html#module-lino.utils.xmlgen" title="(in Lino v1.6)"><code class="xref py py-mod docutils literal"><span class="pre">lino.utils.xmlgen</span></code></a></li>
<li><code class="xref py py-mod docutils literal"><span class="pre">lino.utils.xhtml</span></code></li>
<li><code class="xref py py-mod docutils literal"><span class="pre">lino.utils.bcss</span></code></li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">About me</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><p align="center">
<a href="https://github.com/lsaffre" target="_blank">GitHub</a>
<br/><a href="http://www.lino-framework.org" target="_blank">Lino</a>
<br/><a href="http://www.saffre-rumma.net" target="_blank">Rumma & Ko</a>
</p>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="0224.html" title="20120224"
             >next</a> |</li>
        <li class="right" >
          <a href="0222.html" title="20120222"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >2012</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">

<a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/2.5/88x31.png" /></a>
This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution-ShareAlike 2.5 Generic License</a>.<br />
      Last updated on 2015-03-31.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.
<a href="../../_sources/blog/2012/0223.txt">Show Source</a> 
    <a href="http://luc.lino-framework.org/blog/2012/0223.html">Online Link</a>
    </div>
  </body>
</html>