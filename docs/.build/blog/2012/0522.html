<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>20120522 &mdash; Luc&#39;s website</title>
    
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/centeredlogo.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist_tags.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Luc&#39;s website"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Luc&#39;s website" href="../../index.html" />
    <link rel="up" title="2012" href="index.html" />
    <link rel="next" title="20120523" href="0523.html" />
    <link rel="prev" title="20120521" href="0521.html" />
   
<script src="../../.htmldata/lightbox/js/jquery-1.11.0.min.js"></script>
<script src="../../.htmldata/lightbox/js/lightbox.min.js"></script>
<link href="../../.htmldata/lightbox/css/lightbox.css" rel="stylesheet" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="0523.html" title="20120523"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="0521.html" title="20120521"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">2012</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="id1">
<h1>20120522<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p>Continued to work on <code class="xref py py-mod docutils literal"><span class="pre">lino.modlib.cbss</span></code>.
Error handling:
how to handle the different possible error responses and present them to the user.</p>
<p>Minor internal change: changed argument order (ar,obj) to (obj,ar)
for all methods <cite>value_from_object</cite> and <cite>full_value_from_object</cite>.
And <cite>ar</cite> defaults now to None.</p>
<p>Als nächsten Dienst nehmen wir uns
<code class="xref py py-class docutils literal"><span class="pre">lino.modlib.cbss.models.ManageAccessRequest</span></code>
vor. Denn bevor ich
<code class="xref py py-class docutils literal"><span class="pre">lino.modlib.cbss.models.RetrieveTIGroups</span></code>
fertigstellen kann, muss ich fiktive Personen integrieren.</p>
<p>Zum Feld <cite>purpose</cite> hier ein Auszug aus einem
<a class="reference external" href="http://www.mi-is.be/sites/default/files/doc/Omzendbrief%20gebruik%20hoedanigheidscodes%20NL.doc">Rundbrief des PÖD Soziale Integration</a>
aus dem Jahr 2008:</p>
<blockquote>
<div><p>Gelet op de nodige bescherming van de persoonlijke levenssfeer moet de toegang tot de in het netwerk van de sociale zekerheid beschikbare gegevens beperkt zijn tot de gemachtigde instellingen en personen. Om informatie over een gebruiker te kunnen uitwisselen met de instellingen, moet het OCMW  aldus eerst het netwerk van de sociale zekerheid mededelen dat het een dossier voor de betrokken persoon opent of beheert. Dit gebeurt door middel van de integratieberichten. Zodra de persoon is geïntegreerd, namelijk is ingeschreven in de databases van de POD MI en van de KSZ door het OCMW, heeft het OCMW het recht gegevens te verzenden of te ontvangen via het netwerk van de sociale zekerheid. De OCMW’s mogen natuurlijk niet gelijk wie op gelijk welk ogenblik en op gelijk welke manier integreren. In feite, indien het OCMW gegevens betreffende een persoon via het netwerk moet inzamelen of mededelen om zijn wettelijke opdrachten te vervullen, dan zal het OCMW deze persoon moeten integreren. Aangezien, door deze integraties, de andere OCMW’s in kennis kunnen gesteld worden van het bestaan van een dossier dat elders is geopend, moet het OCMW zorgen voor de juistheid van de betrokken gegevens.</p>
<p>Alle gegevensstromen die via de KSZ verlopen worden aan een integratiecontrole onderworpen. Opdat een bericht deze integratiecontrole met succes zou doorlopen en zou worden aanvaard, is het onontbeerlijk dat de betrokkene is of wordt geïntegreerd onder een bepaalde hoedanigheidscode.</p>
<p>Er bestaan momenteel zes integratie - hoedanigheidscodes :</p>
<ul class="simple">
<li>Code 1 : dossier in onderzoek voor een maximale periode van twee maanden ;</li>
<li>Code 2 : dossier leefloon voor een maximale periode van één jaar ;</li>
<li>Code 3 : dossier equivalent leefloon voor een maximale periode van één jaar ;</li>
<li>Code 4 : andere financiële hulp voor een maximale periode van één jaar ;</li>
<li>Code 5 : inwonend gezinslid, zonder enig recht, voor een
maximale duur van één jaar (volgt normaal de periode
van integratie van de gerechtigde) ;</li>
<li>Code 6 : dossier van een gesubsidieerde tewerkstelling
voor een maximale periode van één jaar.</li>
</ul>
<p>De hoedanigheidscode 4 wordt gebruikt voor allerhande toelagen en premies, zowel periodiek als eenmalig. Voorbeelden hiervan zijn de huur, de verwarming, de stookoliepremie, de terugbetaling medische hulp, de kosten crisisopvang (niet gedekt door leefloon of equivalent leefloon) en specifieke aankopen en enzovoort.
Deze hoedanigheidscode 4 wordt ook gebruikt wanneer steun als voorschot wordt verleend (en geen leefloon of equivalent wordt toegestaan).</p>
<p>Er worden drie nieuwe hoedanigheidscodes toegevoegd.</p>
<ul class="simple">
<li>De code 7 is voor dossiers collectieve schuldbemiddeling of
budgetbegeleiding, evenals de begeleidingen in het kader van de LAC’s voor een maximale periode van vijf jaar.</li>
<li>De code 8 is voor dienstendossiers voor een maximale periode van 5 jaar en wordt gebruikt voor gezins-bejaardenhulp, poetshulp, klusjesdiensten, plaatsing kinderen of bejaarden, warme maaltijden aan huis, personenalarmsystemen, boodschappendiensten enzovoort voor een maximale periode van vijf jaar.</li>
<li>De code 9 is voor andere vormen van begeleiding bijvoorbeeld bij uithuiszettingen, sociale verhuringen, administratieve of psychosociale ondersteuning, rechtshulp enzovoort voor een maximale periode van één jaar.</li>
</ul>
<p>Vanaf 1 juli 2008 kunnen de OCMW’s de hoedanigheidscodes 7, 8 en 9 op vrijwillige basis gebruiken.</p>
</div></blockquote>
<p>Meine Schlussfolgerung: zunächst keine hardcodierte Auswahlliste für dieses Feld.
Insgesamt war die Implementierung dieses neuen Dienstes nicht schwierig, und mein bisheriges Gesamtkonzept scheint gut.</p>
<p>Wo ich noch nicht ganz klar sehe: wie soll ich die Live-Test-Suiten machen?
Kann ich mit den SSINs arbeiten, die in der BCSS-Dokumentation scheinbar
zu Testzwecken zur Verfügung stehen? Oder muss ich eine lokale Liste von
von SSINs machen, auf der die <cite>lino.Lino.cbss_live_tests</cite> gefahren werden?</p>
<p>Und dann habe ich gestern irgendwann auch meinen Fehler
&#8220;31000005 The argument is not valid&#8221; wiedergesehen.</p>
<p><code class="docutils literal"><span class="pre">python</span> <span class="pre">manage.py</span> <span class="pre">test</span> <span class="pre">cbss.QuickTest</span></code></p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">About me</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><p align="center">
<a href="https://github.com/lsaffre" target="_blank">GitHub</a>
<br/><a href="http://www.lino-framework.org" target="_blank">Lino</a>
<br/><a href="http://www.saffre-rumma.net" target="_blank">Rumma & Ko</a>
</p>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="0523.html" title="20120523"
             >next</a> |</li>
        <li class="right" >
          <a href="0521.html" title="20120521"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >2012</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">

<a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/2.5/88x31.png" /></a>
This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution-ShareAlike 2.5 Generic License</a>.<br />
      Last updated on 2015-03-31.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.
<a href="../../_sources/blog/2012/0522.txt">Show Source</a> 
    <a href="http://luc.lino-framework.org/blog/2012/0522.html">Online Link</a>
    </div>
  </body>
</html>