<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>20120327 &mdash; Luc&#39;s website</title>
    
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/centeredlogo.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist_tags.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Luc&#39;s website"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Luc&#39;s website" href="../../index.html" />
    <link rel="up" title="2012" href="index.html" />
    <link rel="next" title="20120328" href="0328.html" />
    <link rel="prev" title="20120317" href="0317.html" />
   
<script src="../../.htmldata/lightbox/js/jquery-1.11.0.min.js"></script>
<script src="../../.htmldata/lightbox/js/lightbox.min.js"></script>
<link href="../../.htmldata/lightbox/css/lightbox.css" rel="stylesheet" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="0328.html" title="20120328"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="0317.html" title="20120317"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">2012</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="id1">
<h1>20120327<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<div class="section" id="miscellaneous-changes-dsbe">
<h2>Miscellaneous changes DSBE<a class="headerlink" href="#miscellaneous-changes-dsbe" title="Permalink to this headline">¶</a></h2>
<p>Wäre es auch möglich die Reihenfolge der Kandidaten in der Übersicht
sehen zu können (apparaît en haut de la liste des candiddats la personne
qui été enregsitrée en premier comme candidate et ainsi de suite / Datum
der Anfrage). Möglich? Noch besser wäre es diese Reihenfolge ändern zu
können (eine Quote geben). Machbar?</p>
<ul class="simple">
<li>Änderungen in <code class="xref py py-class docutils literal"><span class="pre">jobs.JobsOverview</span></code>:<ul>
<li>die aktiven Stellenbesetzer sind jetzt nach <cite>Contract.applies_from</cite>
(Beginndatum des Vertrags) sortiert.
Bisher war die Reihenfolge zufällig.</li>
<li>die Kandidaten sind jetzt nach <cite>Candidature.date_submitted</cite>
(Datum der Anfrage) sortiert. Bisher war die Reihenfolge zufällig.</li>
<li>In &#8220;Kandidaten&#8221; wurden fälschlicherweise auch Personen angezeigt,
die nicht mehr begleitet sind (aber für die eine Stellenanfrage gemacht
worden war).</li>
</ul>
</li>
<li>Art 60/7 Konvention Enddatum: soll immer 1 Tag früher sein als jetzt.
zB: 01/01/2012 bis 31/12/2013 und nicht bis 01/01/2013</li>
<li>Anpassungen nach den Änderungen &#8220;contacts.Contact -&gt; contacts.Partner&#8221; vom  <a class="reference external" href="http://www.lino-framework.org0316.html">0316</a>.</li>
</ul>
</div>
<div class="section" id="continued-on-lino-apps-az">
<h2>Continued on <code class="xref py py-mod docutils literal"><span class="pre">lino.apps.az</span></code><a class="headerlink" href="#continued-on-lino-apps-az" title="Permalink to this headline">¶</a></h2>
<p>Die neue Anwendung <code class="xref py py-mod docutils literal"><span class="pre">lino.apps.az</span></code>
ist eine Studie für die Hausaufgabenschule im AZ Ephata.
Ziel des Projekts ist es, ihnen mit wenig Aufwand eine Anwendung für
die Verwaltung der Anwesenheiten maßzuschneidern.
Ich habe dieses Pilotprojekt ausgewählt wegen der günstigen Rahmenbedingungen:
es gibt dort einen spezifischen Bedarf, weder zu simpel noch zu komplex,
sowie einen funktionierenden Server nebst Systemverwalter.</p>
<p>Oho, hier war ein Schöner:</p>
<div class="highlight-python"><div class="highlight"><pre>TypeError
unbound method age() must be called with Teacher instance as first argument (got Person instance instead)

TRACEBACK:
File &quot;l:\snapshots\django\django\core\handlers\base.py&quot;, line 111, in get_response
(...)

File &quot;t:\hgwork\lino\lino\ui\extjs3\ext_store.py&quot;, line 621, in full_value_from_object
return unbound_meth(obj,request)
</pre></div>
</div>
<p>Der verschwand, nachdem ich <code class="xref py py-meth docutils literal"><span class="pre">lino.modlib.contacts.models.Born.age()</span></code>
in ein <cite>&#64;displayfield</cite> verändert hatte (statt bisher
des altmodischen <cite>return_type</cite>).</p>
<p>Und noch ein Bug: wenn man eine Familie speichert,
meldet Lino &#8220;Ajax communication failed&#8221; mit folgendem traceback:</p>
<div class="highlight-python"><div class="highlight"><pre>DatabaseError
Forced update did not affect any rows.

TRACEBACK:
  File &quot;l:\snapshots\django\django\core\handlers\base.py&quot;, line 111, in get_response
    response = callback(request, *callback_args, **callback_kwargs)

  File &quot;t:\hgwork\lino\lino\ui\extjs3\ext_ui.py&quot;, line 1704, in api_element_view
    return self.form2obj_and_save(ar,data,elem,False,False) # force_update=True)

  File &quot;t:\hgwork\lino\lino\ui\extjs3\ext_ui.py&quot;, line 1273, in form2obj_and_save
    elem.save(**kw2save)

  File &quot;t:\hgwork\lino\lino\modlib\contacts\models.py&quot;, line 174, in save
    super(Partner,self).save(*args,**kw)

  File &quot;l:\snapshots\django\django\db\models\base.py&quot;, line 464, in save
    self.save_base(using=using, force_insert=force_insert, force_update=force_update)

  File &quot;l:\snapshots\django\django\db\models\base.py&quot;, line 532, in save_base
    raise DatabaseError(&quot;Forced update did not affect any rows.&quot;)
</pre></div>
</div>
<p>Das liegt an <a class="reference external" href="http://code.djangoproject.com/ticket/13864">Django ticket #13864</a>. Um es zu umgehen, muss ich irgendein
Datenbankfeld definieren.</p>
<p>Insgesamt funktioniert es jetzt so, wie ich mir das nach dem Interview
mit Marie und Henry gedacht hatte.
Aber bevor es benutzbar wird, muss ich noch einige weitere Details bedenken.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">About me</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><p align="center">
<a href="https://github.com/lsaffre" target="_blank">GitHub</a>
<br/><a href="http://www.lino-framework.org" target="_blank">Lino</a>
<br/><a href="http://www.saffre-rumma.net" target="_blank">Rumma & Ko</a>
</p>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="0328.html" title="20120328"
             >next</a> |</li>
        <li class="right" >
          <a href="0317.html" title="20120317"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >2012</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">

<a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/2.5/88x31.png" /></a>
This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution-ShareAlike 2.5 Generic License</a>.<br />
      Last updated on 2015-03-31.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.
<a href="../../_sources/blog/2012/0327.txt">Show Source</a> 
    <a href="http://luc.lino-framework.org/blog/2012/0327.html">Online Link</a>
    </div>
  </body>
</html>