<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Friday, February 13, 2015 &mdash; Luc&#39;s website</title>
    
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/centeredlogo.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/taglist_tags.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Luc&#39;s website"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Luc&#39;s website" href="../../index.html" />
    <link rel="up" title="2015" href="index.html" />
    <link rel="next" title="Saturday, February 14, 2015" href="0214.html" />
    <link rel="prev" title="Thursday, February 12, 2015" href="0212.html" />
   
<script src="../../.htmldata/lightbox/js/jquery-1.11.0.min.js"></script>
<script src="../../.htmldata/lightbox/js/lightbox.min.js"></script>
<link href="../../.htmldata/lightbox/css/lightbox.css" rel="stylesheet" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="0214.html" title="Saturday, February 14, 2015"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="0212.html" title="Thursday, February 12, 2015"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">2015</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="friday-february-13-2015">
<h1>Friday, February 13, 2015<a class="headerlink" href="#friday-february-13-2015" title="Permalink to this headline">¶</a></h1>
<div class="section" id="filter-parameters-of-newcomers-newclients">
<h2>Filter parameters of newcomers.NewClients<a class="headerlink" href="#filter-parameters-of-newcomers-newclients" title="Permalink to this headline">¶</a></h2>
<p>Fixed <a class="reference external" href="http://trac.lino-framework.org/ticket/91">#91</a>.  The filter parameters of
<a class="reference external" href="http://welfare.lino-framework.org/api/lino_welfare.modlib.newcomers.models.html#lino_welfare.modlib.newcomers.models.NewClients" title="(in Lino Welfare Reference Manual v1.1)"><code class="xref py py-class docutils literal"><span class="pre">newcomers.NewClients</span></code></a> now inherit the
parameters of <a class="reference external" href="http://welfare.lino-framework.org/api/lino_welfare.modlib.pcsw.models.html#lino_welfare.modlib.pcsw.models.Clients" title="(in Lino Welfare Reference Manual v1.1)"><code class="xref py py-class docutils literal"><span class="pre">pcsw.Clients</span></code></a>.  Added more content to
test case <a class="reference external" href="http://welfare.lino-framework.org/tested/newcomers.html#welfare-tested-newcomers" title="(in Lino Welfare Reference Manual v1.1)"><span>Newcomers (tested tour)</span></a>.</p>
<p>This change might have introduced unwanted side effects which are not
yet covered by the test suite.  But it has the advantage that things
get unified. And anywhere there is still quite some testing, analysis
and documentation to do about all these filter criteria.</p>
</div>
<div class="section" id="automatically-setting-cv-obstacle-user-to-the-requesting-user">
<h2>Automatically setting cv.Obstacle.user to the requesting user<a class="headerlink" href="#automatically-setting-cv-obstacle-user-to-the-requesting-user" title="Permalink to this headline">¶</a></h2>
<p>My usual way would have been to write a <a class="reference external" href="http://www.lino-framework.org/api/lino.core.model.html#lino.core.model.Model.before_ui_save" title="(in Lino v1.6)"><code class="xref py py-meth docutils literal"><span class="pre">before_ui_save</span></code></a> for <a class="reference external" href="http://welfare.lino-framework.org/api/lino_welfare.projects.chatelet.modlib.cv.models.html#lino_welfare.projects.chatelet.modlib.cv.models.Obstacle" title="(in Lino Welfare Reference Manual v1.1)"><code class="xref py py-class docutils literal"><span class="pre">cv.Obstacle</span></code></a>.</p>
<p>But then I discovered that I can implement this using a custom signal
<code class="xref py py-const docutils literal"><span class="pre">pre_ui_save</span></code>.  So my
<a class="reference external" href="http://www.lino-framework.org/api/lino.core.model.html#lino.core.model.Model.before_ui_save" title="(in Lino v1.6)"><code class="xref py py-meth docutils literal"><span class="pre">before_ui_save</span></code></a> is maybe
not necessary. I marked it as deprecated. And the same is maybe true
for all these signal-like methods!</p>
<p>One theoretical difference between signals and signal-like methods is
that application code can decide whether some previously defined
&#8220;signal handler&#8221; should be executed or not. But in practice there is
maybe no usage for this until now.</p>
<p>Added a new testcase:
<a class="reference external" href="http://welfare.lino-framework.org/api/lino_welfare.projects.chatelet.tests.test_chatelet.html#module-lino_welfare.projects.chatelet.tests.test_chatelet" title="(in Lino Welfare Reference Manual v1.1)"><code class="xref py py-mod docutils literal"><span class="pre">lino_welfare.projects.chatelet.tests.test_chatelet</span></code></a>.</p>
</div>
<div class="section" id="evaluation-de-la-version-du-06-fevrier">
<h2>Evaluation de la version du 06 février<a class="headerlink" href="#evaluation-de-la-version-du-06-fevrier" title="Permalink to this headline">¶</a></h2>
<p>DONE:</p>
<ul class="simple">
<li>&#8220;Préjudicial&#8221; -&gt; &#8220;Préjudiciable&#8221;</li>
<li>immersion.Contract : keep together company, contact_person and contact_role</li>
<li>immersion.Contract and art61.Contract : remove <cite>user_asd</cite> from detail</li>
<li><cite>ContractsByClient</cite> (both <cite>immersion</cite> and <cite>art61</cite>): <cite>column_names</cite>
as in their document.</li>
<li>jobs.Jobs : show more columns</li>
<li>polls : AnswersByResponse : html view : use bigger font size (same
as for normal fields)</li>
<li>QuestionsByPoll : stay_in_grid = True.</li>
<li>QuestionsByPoll : Respect stay_in_grid also for DuplicateRow.</li>
<li>quand j&#8217;ajoute un RAE dans ResponsesByPartner, Lino n&#8217;inscrit pas le
partenaire. (NB Seulement pour RAE, pas pour INI)</li>
<li>Il n&#8217;est pas possible d&#8217;encoder des textes libres.</li>
<li>Dans «temps de travail accepté», on ne sait en sélectionner qu’un à
la fois alors qu’on devrait pouvoir en sélectionner plusieurs.</li>
<li>Dans «Rendez-vous aujourd&#8217;hui», ajouter la colonne «Type
d’événement» de manière à ce qu’on voit si c’est un entretien en
interne ou en externe.</li>
</ul>
<p>TODO:</p>
<ul class="simple">
<li>Rendez-vous d&#8217;évaluation automatiques : ne fonctionne pas
correctement s&#8217;il y a deux coachings actifs en cette date.  Lino
devrait sélectionner le primaire. (vraiment?)  En tout cas il n&#8217;y a
jamais deux agents présents.</li>
<li>Les tâches automatiques par contrat se font actuellement pour
l&#8217;auteur du contrat, mais il faut les mêmes règles que pour les
rendez-vous.</li>
<li>Dans «Rendez-vous aujourd&#8217;hui», supprimer la colonne «Attribué à»</li>
<li>Dans le dossier d&#8217;une personne onglet «Personne», les rendez-vous
s&#8217;indiquent 2x</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">About me</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><p align="center">
<a href="https://github.com/lsaffre" target="_blank">GitHub</a>
<br/><a href="http://www.lino-framework.org" target="_blank">Lino</a>
<br/><a href="http://www.saffre-rumma.net" target="_blank">Rumma & Ko</a>
</p>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="0214.html" title="Saturday, February 14, 2015"
             >next</a> |</li>
        <li class="right" >
          <a href="0212.html" title="Thursday, February 12, 2015"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Blog</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >2015</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2001-2015 Luc Saffre.
      Last updated on 2015-03-31.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.
    <a href="https://raw.github.com/lsaffre/blog/master/docs/blog/2015/0213.rst"
           rel="nofollow">Show Source</a>.
    <a href="http://luc.lino-framework.org/blog/2015/0213.html">Online Link</a>
    </div>
  </body>
</html>